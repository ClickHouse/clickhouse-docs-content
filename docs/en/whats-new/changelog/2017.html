<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-en/whats-new/changelog/2017">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">2017 Changelog | ClickHouse Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://clickhouse.com/docs/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://clickhouse.com/docs/img/logo.png"><meta data-rh="true" property="og:url" content="https://clickhouse.com/docs/en/whats-new/changelog/2017"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="2017 Changelog | ClickHouse Docs"><meta data-rh="true" name="description" content="ClickHouse Release 1.1.54327, 2017-12-21"><meta data-rh="true" property="og:description" content="ClickHouse Release 1.1.54327, 2017-12-21"><link data-rh="true" rel="icon" href="/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://clickhouse.com/docs/en/whats-new/changelog/2017"><link data-rh="true" rel="alternate" href="https://clickhouse.com/docs/en/whats-new/changelog/2017" hreflang="en"><link data-rh="true" rel="alternate" href="https://clickhouse.com/docs/en/whats-new/changelog/2017" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://62VCH2MD74-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/docs/knowledgebase/rss.xml" title="ClickHouse Knowledge Base Feed RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docs/knowledgebase/atom.xml" title="ClickHouse Knowledge Base Feed Atom Feed">
<link rel="alternate" type="application/json" href="/docs/knowledgebase/feed.json" title="ClickHouse Knowledge Base Feed JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KF1LLRTQ5Q"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-KF1LLRTQ5Q",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="ClickHouse Docs" href="/docs/opensearch.xml">





<script src="/docs/js/analytics.js"></script><link rel="stylesheet" href="/docs/assets/css/styles.58e6d7ad.css">
<link rel="preload" href="/docs/assets/js/runtime~main.d7d1d51d.js" as="script">
<link rel="preload" href="/docs/assets/js/main.8b528d6c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navBar_gvJn"><div class="navbarHeaderContainer_rccn navbar-header"><div class="navbar__inner navbarInner_W6bg"><div class="navbar__items"><a href="https://clickhouse.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/docs/img/logo_without_text.svg" alt="ClickHouse" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/img/logo_without_text.svg" alt="ClickHouse" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">ClickHouse</b></a><div class="navbarItemsList_uIZ2 navbar-items-list"><div class="navbar__item dropdown"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link ch-menu">Product</a><ul class="dropdown__menu"><li><a href="https://clickhouse.com/cloud" target="_blank" rel="noopener noreferrer" class="dropdown__link">ClickHouse Cloud</a></li><li><a href="https://clickhouse.com/clickhouse" target="_blank" rel="noopener noreferrer" class="dropdown__link">ClickHouse Open Source</a></li></ul></div><a href="https://clickhouse.com/customer-stories" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link ch-menu">Use Cases</a><div class="navbar__item dropdown"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link ch-menu">Company</a><ul class="dropdown__menu"><li><a href="https://clickhouse.com/blog" target="_blank" rel="noopener noreferrer" class="dropdown__link">Blog</a></li><li><a href="https://clickhouse.com/company/our-story" target="_blank" rel="noopener noreferrer" class="dropdown__link">Our story</a></li><li><a href="https://clickhouse.com/company/careers" target="_blank" rel="noopener noreferrer" class="dropdown__link">Careers</a></li><li><a href="https://clickhouse.com/company/contact" target="_blank" rel="noopener noreferrer" class="dropdown__link">Contact us</a></li><li><a href="https://clickhouse.com/company/news-events" target="_blank" rel="noopener noreferrer" class="dropdown__link">News and events</a></li></ul></div><div class="navbar__item dropdown"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link ch-menu">Learn</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/en/intro">Docs</a></li><li><a href="https://clickhouse.com/learn" target="_blank" rel="noopener noreferrer" class="dropdown__link">ClickHouse Academy</a></li></ul></div><a href="https://clickhouse.com/pricing" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link ch-menu">Pricing</a></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item">
                <div class="nav-items-btns">
                  <a href="https://clickhouse.cloud/signIn" class="sign-in navbar__item navbar__link ch-menu">
                    Sign in
                  </a>
                  <a href="https://clickhouse.cloud/signUp" class="click-button-anchor">
                    <button class="click-button primary-btn">Free Trial</button>
                  </a>
                </div></div><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button></div></div><div class="secondary-nav--items secondaryMenu_iuff"><div class="scrollableElement_Qqzp secondaryMenuLeft_tFZR secondary-nav--items-left"><a aria-current="page" class="navbar__item navbar__link ch-menu navbar__link--active" href="/docs/en/intro">Docs</a><a class="navbar__item navbar__link ch-menu" href="/docs/en/cloud/overview">Cloud</a><a class="navbar__item navbar__link ch-menu" href="/docs/en/sql-reference">SQL Reference</a><a class="navbar__item navbar__link ch-menu" href="/docs/knowledgebase">Knowledge Base</a></div><div class="secondaryMenuRight__9m4 secondary-nav--items-right"><div class="navbar__item dropdown dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg width="14" height="13" viewBox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.95 12.6496L9.75 5.26628H11.0333L13.8333 12.6496H12.55L11.9 10.7663H8.91667L8.25 12.6496H6.95ZM9.28333 9.69961H11.5L10.4167 6.64961H10.3667L9.28333 9.69961ZM2.08333 10.7996L1.21667 9.93294L4.33333 6.83294C3.94444 6.39961 3.60556 5.95228 3.31667 5.49094C3.02778 5.03005 2.77222 4.54405 2.55 4.03294H3.83333C4.02222 4.41072 4.22222 4.74672 4.43333 5.04094C4.64444 5.33561 4.89444 5.64405 5.18333 5.96628C5.63889 5.47739 6.01667 4.97472 6.31667 4.45828C6.61667 3.94139 6.86667 3.3885 7.06667 2.79961H0.25V1.58294H4.55V0.349609H5.78333V1.58294H10.0833V2.79961H8.3C8.07778 3.53294 7.78333 4.24116 7.41667 4.92428C7.05 5.60783 6.59444 6.25516 6.05 6.86628L7.53333 8.36628L7.06667 9.63294L5.16667 7.73294L2.08333 10.7996Z" fill="currentColor"/>
</svg></a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/en/intro">English</a></li><li><a class="dropdown__link" href="/docs/ru">Russian</a></li><li><a class="dropdown__link" href="/docs/zh">Chinese</a></li></ul></div><button class="colorModeButton_hk25 navbar-color-toggle"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.7227 0.724664C8.7227 0.330045 8.39191 0 8.0036 0C7.60809 0 7.2773 0.330045 7.2773 0.724664V2.18834C7.2773 2.57578 7.60809 2.90583 8.0036 2.90583C8.39191 2.90583 8.7227 2.57578 8.7227 2.18834V0.724664ZM11.5991 3.4009C11.3258 3.67354 11.3258 4.13274 11.6063 4.41256C11.8796 4.6852 12.347 4.69238 12.6274 4.40538L13.6629 3.3722C13.9434 3.09238 13.9362 2.62601 13.6629 2.34619C13.3897 2.07354 12.9222 2.08072 12.649 2.35336L11.5991 3.4009ZM3.37258 4.40538C3.64584 4.6852 4.11326 4.6852 4.38652 4.41256C4.66697 4.14709 4.66697 3.66637 4.4009 3.4009L3.3582 2.35336C3.09213 2.08789 2.61753 2.07354 2.34427 2.34619C2.07101 2.62601 2.06382 3.09238 2.33708 3.36502L3.37258 4.40538ZM7.9964 11.774C10.0602 11.774 11.7717 10.0664 11.7717 8C11.7717 5.93363 10.0602 4.22601 7.9964 4.22601C5.93258 4.22601 4.22112 5.93363 4.22112 8C4.22112 10.0664 5.93258 11.774 7.9964 11.774ZM7.9964 10.4395C6.65888 10.4395 5.55146 9.33453 5.55146 8C5.55146 6.66547 6.65888 5.56054 7.9964 5.56054C9.33393 5.56054 10.4413 6.66547 10.4413 8C10.4413 9.33453 9.33393 10.4395 7.9964 10.4395ZM15.2809 8.71749C15.6692 8.71749 16 8.38744 16 8C16 7.60538 15.6692 7.28251 15.2809 7.28251H13.8211C13.4328 7.28251 13.102 7.60538 13.102 8C13.102 8.38744 13.4328 8.71749 13.8211 8.71749H15.2809ZM0.719101 7.28251C0.330787 7.28251 0 7.60538 0 8C0 8.38744 0.330787 8.71749 0.719101 8.71749H2.17888C2.57438 8.71749 2.90517 8.38744 2.90517 8C2.90517 7.60538 2.57438 7.28251 2.17888 7.28251H0.719101ZM12.6202 11.5946C12.347 11.322 11.8796 11.322 11.5991 11.5946C11.3258 11.8744 11.3258 12.3336 11.6063 12.6135L12.649 13.6538C12.9294 13.9265 13.3897 13.9193 13.6701 13.6395C13.9434 13.3668 13.9434 12.9076 13.6629 12.6278L12.6202 11.5946ZM2.33708 12.6206C2.05663 12.9004 2.05663 13.3668 2.3227 13.6395C2.60315 13.9121 3.07056 13.9193 3.34382 13.6466L4.38652 12.6135C4.66697 12.3336 4.66697 11.8744 4.4009 11.6018C4.12045 11.322 3.65303 11.322 3.37258 11.5946L2.33708 12.6206ZM8.7227 13.8117C8.7227 13.4242 8.39191 13.0942 8.0036 13.0942C7.60809 13.0942 7.2773 13.4242 7.2773 13.8117V15.2753C7.2773 15.6628 7.60809 16 8.0036 16C8.39191 16 8.7227 15.6628 8.7227 15.2753V13.8117Z" fill="currentColor"></path></svg><span>light Mode</span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_W2AM"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage_qMb8"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_mhZE"><div class="sidebarSearchContainer_Lwc8"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Y1UP"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="false"><a class="menu__link">Get Started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/intro">What is ClickHouse?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/getting-started/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/tutorial">Advanced Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/install">Install</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item top-nav-item"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="false"><a class="menu__link">Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/concepts/why-clickhouse-is-so-fast">Why is ClickHouse so Fast?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/concepts/olap">What is OLAP?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/about-us/distinctive-features">Why is ClickHouse unique?</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="false"><a class="menu__link">Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/guides/creating-tables">Creating Tables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/guides/inserting-data">Inserting Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/guides/writing-queries">SELECT Queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/guides/developer/mutations">Updating and Deleting Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/guides/joining-tables">Joining Tables</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="true"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/en/guides/developer/cascading-materialized-views">Advanced Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="true"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/en/optimize/sparse-primary-indexes">Best Practices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="true"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/en/getting-started/example-datasets">Example Datasets</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="false"><a class="menu__link">Integrations</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/integrations">View all integrations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/integrations/s3">AWS S3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/integrations/gcs">Google Cloud Storage (GCS)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/integrations/postgresql">PostgreSQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/integrations/mysql">MySQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/integrations/kafka">Kafka</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/integrations/dbt">dbt</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/integrations/redshift">Redshift</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed top-nav-item"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="true"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/en/integrations/airbyte">More...</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="false"><a class="menu__link">Data Formats</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/integrations/data-formats/csv-tsv">CSV and TSV</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/integrations/data-formats/json">JSON</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/integrations/data-formats/parquet">Parquet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/integrations/data-formats/arrow-avro-orc">Avro, Arrow and ORC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/interfaces/formats">View all formats...</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="false"><a class="menu__link">Clients and Drivers</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/integrations/sql-clients/clickhouse-client-local">clickhouse-client (CLI)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/integrations/sql-clients/sql-console">SQL Console</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/getting-started/playground">ClickHouse Playground</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/integrations/language-clients/nodejs">Node.js</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/integrations/java">Java</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/integrations/python">Python</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="true"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/en/integrations/language-clients/nodejs">View all languages</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="true"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/en/interfaces/overview">Drivers and Interfaces</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="true"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/en/integrations/datagrip">SQL Clients</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="true"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/en/integrations/data-visualization">Business Intelligence</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="false"><a class="menu__link">Managing ClickHouse</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/operations/access-rights">Users and Roles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/operations/backup">Backup and Restore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/operations/monitoring">Monitoring</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="true"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/en/guides/sre/configuring-ldap">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="true"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/en/operations/settings">Advanced Settings</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="true"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/en/guides/sre/scaling-clusters">Performance and Optimizations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="true"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/en/operations/utilities">Tools and Utilities</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="true"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/en/operations/update">More...</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="false"><a class="menu__link menu__link--active">About ClickHouse</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/about-us/adopters">Adopters</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="true"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/category/changelog">Changelog</a><button aria-label="Toggle the collapsible sidebar category &#x27;Changelog&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/whats-new/changelog/cloud">Cloud</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/whats-new/changelog">2023</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/whats-new/changelog/2022">2022</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/whats-new/changelog/2021">2021</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/whats-new/changelog/2020">2020</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/whats-new/changelog/2019">2019</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/whats-new/changelog/2018">2018</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/en/whats-new/changelog/2017">2017</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/whats-new/security-changelog">Security Changelog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/whats-new/roadmap">Roadmap</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menuListItemCollapsed_i9wL menu__list-item-collapsible" data-link="true"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/en/development/developer-instruction">Contribute</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/about-us/history">ClickHouse History</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_RiV8"><div class="container padding-top--md padding-bottom--lg main-content-wrapper"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><div class="theme-doc-markdown markdown"><header><h1>2017 Changelog</h1></header><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clickhouse-release-1-1-54327-2017-12-21">ClickHouse Release 1.1.54327, 2017-12-21<a href="#clickhouse-release-1-1-54327-2017-12-21" class="hash-link" aria-label="Direct link to ClickHouse Release 1.1.54327, 2017-12-21" title="Direct link to ClickHouse Release 1.1.54327, 2017-12-21">​</a></h3><p>This release contains bug fixes for the previous release 1.1.54318:</p><ul><li>Fixed bug with possible race condition in replication that could lead to data loss. This issue affects versions 1.1.54310 and 1.1.54318. If you use one of these versions with Replicated tables, the update is strongly recommended. This issue shows in logs in Warning messages like <code>Part ... from own log does not exist.</code> The issue is relevant even if you do not see these messages in logs.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clickhouse-release-1-1-54318-2017-11-30">ClickHouse Release 1.1.54318, 2017-11-30<a href="#clickhouse-release-1-1-54318-2017-11-30" class="hash-link" aria-label="Direct link to ClickHouse Release 1.1.54318, 2017-11-30" title="Direct link to ClickHouse Release 1.1.54318, 2017-11-30">​</a></h3><p>This release contains bug fixes for the previous release 1.1.54310:</p><ul><li>Fixed incorrect row deletions during merges in the SummingMergeTree engine</li><li>Fixed a memory leak in unreplicated MergeTree engines</li><li>Fixed performance degradation with frequent inserts in MergeTree engines</li><li>Fixed an issue that was causing the replication queue to stop running</li><li>Fixed rotation and archiving of server logs</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clickhouse-release-1-1-54310-2017-11-01">ClickHouse Release 1.1.54310, 2017-11-01<a href="#clickhouse-release-1-1-54310-2017-11-01" class="hash-link" aria-label="Direct link to ClickHouse Release 1.1.54310, 2017-11-01" title="Direct link to ClickHouse Release 1.1.54310, 2017-11-01">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="new-features">New Features:<a href="#new-features" class="hash-link" aria-label="Direct link to New Features:" title="Direct link to New Features:">​</a></h4><ul><li>Custom partitioning key for the MergeTree family of table engines.</li><li><a href="https://clickhouse.com/docs/en/operations/table_engines/kafka/" target="_blank" rel="noopener noreferrer">Kafka</a> table engine.</li><li>Added support for loading <a href="https://yandex.com/dev/catboost/" target="_blank" rel="noopener noreferrer">CatBoost</a> models and applying them to data stored in ClickHouse.</li><li>Added support for time zones with non-integer offsets from UTC.</li><li>Added support for arithmetic operations with time intervals.</li><li>The range of values for the Date and DateTime types is extended to the year 2105.</li><li>Added the <code>CREATE MATERIALIZED VIEW x TO y</code> query (specifies an existing table for storing the data of a materialized view).</li><li>Added the <code>ATTACH TABLE</code> query without arguments.</li><li>The processing logic for Nested columns with names ending in -Map in a SummingMergeTree table was extracted to the sumMap aggregate function. You can now specify such columns explicitly.</li><li>Max size of the IP trie dictionary is increased to 128M entries.</li><li>Added the getSizeOfEnumType function.</li><li>Added the sumWithOverflow aggregate function.</li><li>Added support for the Cap’n Proto input format.</li><li>You can now customize compression level when using the zstd algorithm.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="backward-incompatible-changes">Backward Incompatible Changes:<a href="#backward-incompatible-changes" class="hash-link" aria-label="Direct link to Backward Incompatible Changes:" title="Direct link to Backward Incompatible Changes:">​</a></h4><ul><li>Creation of temporary tables with an engine other than Memory is not allowed.</li><li>Explicit creation of tables with the View or MaterializedView engine is not allowed.</li><li>During table creation, a new check verifies that the sampling key expression is included in the primary key.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes">Bug Fixes:<a href="#bug-fixes" class="hash-link" aria-label="Direct link to Bug Fixes:" title="Direct link to Bug Fixes:">​</a></h4><ul><li>Fixed hangups when synchronously inserting into a Distributed table.</li><li>Fixed nonatomic adding and removing of parts in Replicated tables.</li><li>Data inserted into a materialized view is not subjected to unnecessary deduplication.</li><li>Executing a query to a Distributed table for which the local replica is lagging and remote replicas are unavailable does not result in an error anymore.</li><li>Users do not need access permissions to the <code>default</code> database to create temporary tables anymore.</li><li>Fixed crashing when specifying the Array type without arguments.</li><li>Fixed hangups when the disk volume containing server logs is full.</li><li>Fixed an overflow in the toRelativeWeekNum function for the first week of the Unix epoch.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="build-improvements">Build Improvements:<a href="#build-improvements" class="hash-link" aria-label="Direct link to Build Improvements:" title="Direct link to Build Improvements:">​</a></h4><ul><li>Several third-party libraries (notably Poco) were updated and converted to git submodules.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clickhouse-release-1-1-54304-2017-10-19">ClickHouse Release 1.1.54304, 2017-10-19<a href="#clickhouse-release-1-1-54304-2017-10-19" class="hash-link" aria-label="Direct link to ClickHouse Release 1.1.54304, 2017-10-19" title="Direct link to ClickHouse Release 1.1.54304, 2017-10-19">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-1">New Features:<a href="#new-features-1" class="hash-link" aria-label="Direct link to New Features:" title="Direct link to New Features:">​</a></h4><ul><li>TLS support in the native protocol (to enable, set <code>tcp_ssl_port</code> in <code>config.xml</code> ).</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes-1">Bug Fixes:<a href="#bug-fixes-1" class="hash-link" aria-label="Direct link to Bug Fixes:" title="Direct link to Bug Fixes:">​</a></h4><ul><li><code>ALTER</code> for replicated tables now tries to start running as soon as possible.</li><li>Fixed crashing when reading data with the setting <code>preferred_block_size_bytes=0.</code></li><li>Fixed crashes of <code>clickhouse-client</code> when pressing <code>Page Down</code></li><li>Correct interpretation of certain complex queries with <code>GLOBAL IN</code> and <code>UNION ALL</code></li><li><code>FREEZE PARTITION</code> always works atomically now.</li><li>Empty POST requests now return a response with code 411.</li><li>Fixed interpretation errors for expressions like <code>CAST(1 AS Nullable(UInt8)).</code></li><li>Fixed an error when reading <code>Array(Nullable(String))</code> columns from <code>MergeTree</code> tables.</li><li>Fixed crashing when parsing queries like <code>SELECT dummy AS dummy, dummy AS b</code></li><li>Users are updated correctly with invalid <code>users.xml</code></li><li>Correct handling when an executable dictionary returns a non-zero response code.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clickhouse-release-1-1-54292-2017-09-20">ClickHouse Release 1.1.54292, 2017-09-20<a href="#clickhouse-release-1-1-54292-2017-09-20" class="hash-link" aria-label="Direct link to ClickHouse Release 1.1.54292, 2017-09-20" title="Direct link to ClickHouse Release 1.1.54292, 2017-09-20">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-2">New Features:<a href="#new-features-2" class="hash-link" aria-label="Direct link to New Features:" title="Direct link to New Features:">​</a></h4><ul><li>Added the <code>pointInPolygon</code> function for working with coordinates on a coordinate plane.</li><li>Added the <code>sumMap</code> aggregate function for calculating the sum of arrays, similar to <code>SummingMergeTree</code>.</li><li>Added the <code>trunc</code> function. Improved performance of the rounding functions (<code>round</code>, <code>floor</code>, <code>ceil</code>, <code>roundToExp2</code>) and corrected the logic of how they work. Changed the logic of the <code>roundToExp2</code> function for fractions and negative numbers.</li><li>The ClickHouse executable file is now less dependent on the libc version. The same ClickHouse executable file can run on a wide variety of Linux systems. There is still a dependency when using compiled queries (with the setting <code>compile = 1</code> , which is not used by default).</li><li>Reduced the time needed for dynamic compilation of queries.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes-2">Bug Fixes:<a href="#bug-fixes-2" class="hash-link" aria-label="Direct link to Bug Fixes:" title="Direct link to Bug Fixes:">​</a></h4><ul><li>Fixed an error that sometimes produced <code>part ... intersects previous part</code> messages and weakened replica consistency.</li><li>Fixed an error that caused the server to lock up if ZooKeeper was unavailable during shutdown.</li><li>Removed excessive logging when restoring replicas.</li><li>Fixed an error in the UNION ALL implementation.</li><li>Fixed an error in the concat function that occurred if the first column in a block has the Array type.</li><li>Progress is now displayed correctly in the system.merges table.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clickhouse-release-1-1-54289-2017-09-13">ClickHouse Release 1.1.54289, 2017-09-13<a href="#clickhouse-release-1-1-54289-2017-09-13" class="hash-link" aria-label="Direct link to ClickHouse Release 1.1.54289, 2017-09-13" title="Direct link to ClickHouse Release 1.1.54289, 2017-09-13">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-3">New Features:<a href="#new-features-3" class="hash-link" aria-label="Direct link to New Features:" title="Direct link to New Features:">​</a></h4><ul><li><code>SYSTEM</code> queries for server administration: <code>SYSTEM RELOAD DICTIONARY</code>, <code>SYSTEM RELOAD DICTIONARIES</code>, <code>SYSTEM DROP DNS CACHE</code>, <code>SYSTEM SHUTDOWN</code>, <code>SYSTEM KILL</code>.</li><li>Added functions for working with arrays: <code>concat</code>, <code>arraySlice</code>, <code>arrayPushBack</code>, <code>arrayPushFront</code>, <code>arrayPopBack</code>, <code>arrayPopFront</code>.</li><li>Added <code>root</code> and <code>identity</code> parameters for the ZooKeeper configuration. This allows you to isolate individual users on the same ZooKeeper cluster.</li><li>Added aggregate functions <code>groupBitAnd</code>, <code>groupBitOr</code>, and <code>groupBitXor</code> (for compatibility, they are also available under the names <code>BIT_AND</code>, <code>BIT_OR</code>, and <code>BIT_XOR</code>).</li><li>External dictionaries can be loaded from MySQL by specifying a socket in the filesystem.</li><li>External dictionaries can be loaded from MySQL over SSL (<code>ssl_cert</code>, <code>ssl_key</code>, <code>ssl_ca</code> parameters).</li><li>Added the <code>max_network_bandwidth_for_user</code> setting to restrict the overall bandwidth use for queries per user.</li><li>Support for <code>DROP TABLE</code> for temporary tables.</li><li>Support for reading <code>DateTime</code> values in Unix timestamp format from the <code>CSV</code> and <code>JSONEachRow</code> formats.</li><li>Lagging replicas in distributed queries are now excluded by default (the default threshold is 5 minutes).</li><li>FIFO locking is used during ALTER: an ALTER query isn’t blocked indefinitely for continuously running queries.</li><li>Option to set <code>umask</code> in the config file.</li><li>Improved performance for queries with <code>DISTINCT</code> .</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes-3">Bug Fixes:<a href="#bug-fixes-3" class="hash-link" aria-label="Direct link to Bug Fixes:" title="Direct link to Bug Fixes:">​</a></h4><ul><li>Improved the process for deleting old nodes in ZooKeeper. Previously, old nodes sometimes didn’t get deleted if there were very frequent inserts, which caused the server to be slow to shut down, among other things.</li><li>Fixed randomization when choosing hosts for the connection to ZooKeeper.</li><li>Fixed the exclusion of lagging replicas in distributed queries if the replica is localhost.</li><li>Fixed an error where a data part in a <code>ReplicatedMergeTree</code> table could be broken after running <code>ALTER MODIFY</code> on an element in a <code>Nested</code> structure.</li><li>Fixed an error that could cause SELECT queries to “hang”.</li><li>Improvements to distributed DDL queries.</li><li>Fixed the query <code>CREATE TABLE ... AS &lt;materialized view&gt;</code>.</li><li>Resolved the deadlock in the <code>ALTER ... CLEAR COLUMN IN PARTITION</code> query for <code>Buffer</code> tables.</li><li>Fixed the invalid default value for <code>Enum</code> s (0 instead of the minimum) when using the <code>JSONEachRow</code> and <code>TSKV</code> formats.</li><li>Resolved the appearance of zombie processes when using a dictionary with an <code>executable</code> source.</li><li>Fixed segfault for the HEAD query.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="improved-workflow-for-developing-and-assembling-clickhouse">Improved Workflow for Developing and Assembling ClickHouse:<a href="#improved-workflow-for-developing-and-assembling-clickhouse" class="hash-link" aria-label="Direct link to Improved Workflow for Developing and Assembling ClickHouse:" title="Direct link to Improved Workflow for Developing and Assembling ClickHouse:">​</a></h4><ul><li>You can use <code>pbuilder</code> to build ClickHouse.</li><li>You can use <code>libc++</code> instead of <code>libstdc++</code> for builds on Linux.</li><li>Added instructions for using static code analysis tools: <code>Coverage</code>, <code>clang-tidy</code>, <code>cppcheck</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="please-note-when-upgrading">Please Note When Upgrading:<a href="#please-note-when-upgrading" class="hash-link" aria-label="Direct link to Please Note When Upgrading:" title="Direct link to Please Note When Upgrading:">​</a></h4><ul><li>There is now a higher default value for the MergeTree setting <code>max_bytes_to_merge_at_max_space_in_pool</code> (the maximum total size of data parts to merge, in bytes): it has increased from 100 GiB to 150 GiB. This might result in large merges running after the server upgrade, which could cause an increased load on the disk subsystem. If the free space available on the server is less than twice the total amount of the merges that are running, this will cause all other merges to stop running, including merges of small data parts. As a result, INSERT queries will fail with the message “Merges are processing significantly slower than inserts.” Use the <code>SELECT * FROM system.merges</code> query to monitor the situation. You can also check the <code>DiskSpaceReservedForMerge</code> metric in the <code>system.metrics</code> table, or in Graphite. You do not need to do anything to fix this, since the issue will resolve itself once the large merges finish. If you find this unacceptable, you can restore the previous value for the <code>max_bytes_to_merge_at_max_space_in_pool</code> setting. To do this, go to the <code>&lt;merge_tree&gt;</code> section in config.xml, set <code>&lt;merge_tree&gt;``&lt;max_bytes_to_merge_at_max_space_in_pool&gt;107374182400&lt;/max_bytes_to_merge_at_max_space_in_pool&gt;</code> and restart the server.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clickhouse-release-1-1-54284-2017-08-29">ClickHouse Release 1.1.54284, 2017-08-29<a href="#clickhouse-release-1-1-54284-2017-08-29" class="hash-link" aria-label="Direct link to ClickHouse Release 1.1.54284, 2017-08-29" title="Direct link to ClickHouse Release 1.1.54284, 2017-08-29">​</a></h3><ul><li>This is a bugfix release for the previous 1.1.54282 release. It fixes leaks in the parts directory in ZooKeeper.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clickhouse-release-1-1-54282-2017-08-23">ClickHouse Release 1.1.54282, 2017-08-23<a href="#clickhouse-release-1-1-54282-2017-08-23" class="hash-link" aria-label="Direct link to ClickHouse Release 1.1.54282, 2017-08-23" title="Direct link to ClickHouse Release 1.1.54282, 2017-08-23">​</a></h3><p>This release contains bug fixes for the previous release 1.1.54276:</p><ul><li>Fixed <code>DB::Exception: Assertion violation: !_path.empty()</code> when inserting into a Distributed table.</li><li>Fixed parsing when inserting in RowBinary format if input data starts with’;’.</li><li>Errors during runtime compilation of certain aggregate functions (e.g. <code>groupArray()</code>).</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clickhouse-release-1-1-54276-2017-08-16">ClickHouse Release 1.1.54276, 2017-08-16<a href="#clickhouse-release-1-1-54276-2017-08-16" class="hash-link" aria-label="Direct link to ClickHouse Release 1.1.54276, 2017-08-16" title="Direct link to ClickHouse Release 1.1.54276, 2017-08-16">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-4">New Features:<a href="#new-features-4" class="hash-link" aria-label="Direct link to New Features:" title="Direct link to New Features:">​</a></h4><ul><li>Added an optional WITH section for a SELECT query. Example query: <code>WITH 1+1 AS a SELECT a, a*a</code></li><li>INSERT can be performed synchronously in a Distributed table: OK is returned only after all the data is saved on all the shards. This is activated by the setting insert_distributed_sync=1.</li><li>Added the UUID data type for working with 16-byte identifiers.</li><li>Added aliases of CHAR, FLOAT and other types for compatibility with the Tableau.</li><li>Added the functions toYYYYMM, toYYYYMMDD, and toYYYYMMDDhhmmss for converting time into numbers.</li><li>You can use IP addresses (together with the hostname) to identify servers for clustered DDL queries.</li><li>Added support for non-constant arguments and negative offsets in the function <code>substring(str, pos, len).</code></li><li>Added the max_size parameter for the <code>groupArray(max_size)(column)</code> aggregate function, and optimized its performance.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="main-changes">Main Changes:<a href="#main-changes" class="hash-link" aria-label="Direct link to Main Changes:" title="Direct link to Main Changes:">​</a></h4><ul><li>Security improvements: all server files are created with 0640 permissions (can be changed via <code>&lt;umask&gt;</code> config parameter).</li><li>Improved error messages for queries with invalid syntax.</li><li>Significantly reduced memory consumption and improved performance when merging large sections of MergeTree data.</li><li>Significantly increased the performance of data merges for the ReplacingMergeTree engine.</li><li>Improved performance for asynchronous inserts from a Distributed table by combining multiple source inserts. To enable this functionality, use the setting distributed_directory_monitor_batch_inserts=1.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="backward-incompatible-changes-1">Backward Incompatible Changes:<a href="#backward-incompatible-changes-1" class="hash-link" aria-label="Direct link to Backward Incompatible Changes:" title="Direct link to Backward Incompatible Changes:">​</a></h4><ul><li>Changed the binary format of aggregate states of <code>groupArray(array_column)</code> functions for arrays.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="complete-list-of-changes">Complete List of Changes:<a href="#complete-list-of-changes" class="hash-link" aria-label="Direct link to Complete List of Changes:" title="Direct link to Complete List of Changes:">​</a></h4><ul><li>Added the <code>output_format_json_quote_denormals</code> setting, which enables outputting nan and inf values in JSON format.</li><li>Optimized stream allocation when reading from a Distributed table.</li><li>Settings can be configured in readonly mode if the value does not change.</li><li>Added the ability to retrieve non-integer granules of the MergeTree engine in order to meet restrictions on the block size specified in the preferred_block_size_bytes setting. The purpose is to reduce the consumption of RAM and increase cache locality when processing queries from tables with large columns.</li><li>Efficient use of indexes that contain expressions like <code>toStartOfHour(x)</code> for conditions like <code>toStartOfHour(x) op сonstexpr.</code></li><li>Added new settings for MergeTree engines (the merge_tree section in config.xml):<ul><li>replicated_deduplication_window_seconds sets the number of seconds allowed for deduplicating inserts in Replicated tables.</li><li>cleanup_delay_period sets how often to start cleanup to remove outdated data.</li><li>replicated_can_become_leader can prevent a replica from becoming the leader (and assigning merges).</li></ul></li><li>Accelerated cleanup to remove outdated data from ZooKeeper.</li><li>Multiple improvements and fixes for clustered DDL queries. Of particular interest is the new setting distributed_ddl_task_timeout, which limits the time to wait for a response from the servers in the cluster. If a ddl request has not been performed on all hosts, a response will contain a timeout error and a request will be executed in an async mode.</li><li>Improved display of stack traces in the server logs.</li><li>Added the “none” value for the compression method.</li><li>You can use multiple dictionaries_config sections in config.xml.</li><li>It is possible to connect to MySQL through a socket in the file system.</li><li>The system.parts table has a new column with information about the size of marks, in bytes.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes-4">Bug Fixes:<a href="#bug-fixes-4" class="hash-link" aria-label="Direct link to Bug Fixes:" title="Direct link to Bug Fixes:">​</a></h4><ul><li>Distributed tables using a Merge table now work correctly for a SELECT query with a condition on the <code>_table</code> field.</li><li>Fixed a rare race condition in ReplicatedMergeTree when checking data parts.</li><li>Fixed possible freezing on “leader election” when starting a server.</li><li>The max_replica_delay_for_distributed_queries setting was ignored when using a local replica of the data source. This has been fixed.</li><li>Fixed incorrect behavior of <code>ALTER TABLE CLEAR COLUMN IN PARTITION</code> when attempting to clean a non-existing column.</li><li>Fixed an exception in the multiIf function when using empty arrays or strings.</li><li>Fixed excessive memory allocations when deserializing Native format.</li><li>Fixed incorrect auto-update of Trie dictionaries.</li><li>Fixed an exception when running queries with a GROUP BY clause from a Merge table when using SAMPLE.</li><li>Fixed a crash of GROUP BY when using distributed_aggregation_memory_efficient=1.</li><li>Now you can specify the database.table in the right side of IN and JOIN.</li><li>Too many threads were used for parallel aggregation. This has been fixed.</li><li>Fixed how the “if” function works with FixedString arguments.</li><li>SELECT worked incorrectly from a Distributed table for shards with a weight of 0. This has been fixed.</li><li>Running <code>CREATE VIEW IF EXISTS no longer causes crashes.</code></li><li>Fixed incorrect behavior when input_format_skip_unknown_fields=1 is set and there are negative numbers.</li><li>Fixed an infinite loop in the <code>dictGetHierarchy()</code> function if there is some invalid data in the dictionary.</li><li>Fixed <code>Syntax error: unexpected (...)</code> errors when running distributed queries with subqueries in an IN or JOIN clause and Merge tables.</li><li>Fixed an incorrect interpretation of a SELECT query from Dictionary tables.</li><li>Fixed the “Cannot mremap” error when using arrays in IN and JOIN clauses with more than 2 billion elements.</li><li>Fixed the failover for dictionaries with MySQL as the source.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="improved-workflow-for-developing-and-assembling-clickhouse-1">Improved Workflow for Developing and Assembling ClickHouse:<a href="#improved-workflow-for-developing-and-assembling-clickhouse-1" class="hash-link" aria-label="Direct link to Improved Workflow for Developing and Assembling ClickHouse:" title="Direct link to Improved Workflow for Developing and Assembling ClickHouse:">​</a></h4><ul><li>Builds can be assembled in Arcadia.</li><li>You can use gcc 7 to compile ClickHouse.</li><li>Parallel builds using ccache+distcc are faster now.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clickhouse-release-1-1-54245-2017-07-04">ClickHouse Release 1.1.54245, 2017-07-04<a href="#clickhouse-release-1-1-54245-2017-07-04" class="hash-link" aria-label="Direct link to ClickHouse Release 1.1.54245, 2017-07-04" title="Direct link to ClickHouse Release 1.1.54245, 2017-07-04">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-5">New Features:<a href="#new-features-5" class="hash-link" aria-label="Direct link to New Features:" title="Direct link to New Features:">​</a></h4><ul><li>Distributed DDL (for example, <code>CREATE TABLE ON CLUSTER</code>)</li><li>The replicated query <code>ALTER TABLE CLEAR COLUMN IN PARTITION.</code></li><li>The engine for Dictionary tables (access to dictionary data in the form of a table).</li><li>Dictionary database engine (this type of database automatically has Dictionary tables available for all the connected external dictionaries).</li><li>You can check for updates to the dictionary by sending a request to the source.</li><li>Qualified column names</li><li>Quoting identifiers using double quotation marks.</li><li>Sessions in the HTTP interface.</li><li>The OPTIMIZE query for a Replicated table can can run not only on the leader.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="backward-incompatible-changes-2">Backward Incompatible Changes:<a href="#backward-incompatible-changes-2" class="hash-link" aria-label="Direct link to Backward Incompatible Changes:" title="Direct link to Backward Incompatible Changes:">​</a></h4><ul><li>Removed SET GLOBAL.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="minor-changes">Minor Changes:<a href="#minor-changes" class="hash-link" aria-label="Direct link to Minor Changes:" title="Direct link to Minor Changes:">​</a></h4><ul><li>Now after an alert is triggered, the log prints the full stack trace.</li><li>Relaxed the verification of the number of damaged/extra data parts at startup (there were too many false positives).</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes-5">Bug Fixes:<a href="#bug-fixes-5" class="hash-link" aria-label="Direct link to Bug Fixes:" title="Direct link to Bug Fixes:">​</a></h4><ul><li>Fixed a bad connection “sticking” when inserting into a Distributed table.</li><li>GLOBAL IN now works for a query from a Merge table that looks at a Distributed table.</li><li>The incorrect number of cores was detected on a Google Compute Engine virtual machine. This has been fixed.</li><li>Changes in how an executable source of cached external dictionaries works.</li><li>Fixed the comparison of strings containing null characters.</li><li>Fixed the comparison of Float32 primary key fields with constants.</li><li>Previously, an incorrect estimate of the size of a field could lead to overly large allocations.</li><li>Fixed a crash when querying a Nullable column added to a table using ALTER.</li><li>Fixed a crash when sorting by a Nullable column, if the number of rows is less than LIMIT.</li><li>Fixed an ORDER BY subquery consisting of only constant values.</li><li>Previously, a Replicated table could remain in the invalid state after a failed DROP TABLE.</li><li>Aliases for scalar subqueries with empty results are no longer lost.</li><li>Now a query that used compilation does not fail with an error if the .so file gets damaged.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ClickHouse/clickhouse-docs/blob/main/docs/en/whats-new/changelog/2017.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev paginationNavLink_UdUv" href="/docs/en/whats-new/changelog/2018"><svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.2751 19.175L10.3251 18.125L5.4501 13.25H21.6001V11.75H5.4501L10.3251 6.87501L9.2751 5.82501L2.5751 12.5L9.2751 19.175Z" fill="currentColor"></path></svg><div class="paginationNavContent__3xr"><div class="pagination-nav__sublabel">Previous</div><div class="paginationNavLabel_YPzM pagination-nav__label">2018</div></div></a><a class="pagination-nav__link pagination-nav__link--next paginationNavLink_UdUv" href="/docs/en/whats-new/security-changelog"><div class="paginationNavContent__3xr"><div class="pagination-nav__sublabel">Next</div><div class="paginationNavLabel_YPzM pagination-nav__label">Security Changelog</div></div><svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.7249 19.175L13.6749 18.125L18.5499 13.25H2.3999V11.75H18.5499L13.6749 6.87501L14.7249 5.82501L21.4249 12.5L14.7249 19.175Z" fill="currentColor"></path></svg></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#clickhouse-release-1-1-54327-2017-12-21" class="table-of-contents__link toc-highlight">ClickHouse Release 1.1.54327, 2017-12-21</a></li><li><a href="#clickhouse-release-1-1-54318-2017-11-30" class="table-of-contents__link toc-highlight">ClickHouse Release 1.1.54318, 2017-11-30</a></li><li><a href="#clickhouse-release-1-1-54310-2017-11-01" class="table-of-contents__link toc-highlight">ClickHouse Release 1.1.54310, 2017-11-01</a></li><li><a href="#clickhouse-release-1-1-54304-2017-10-19" class="table-of-contents__link toc-highlight">ClickHouse Release 1.1.54304, 2017-10-19</a></li><li><a href="#clickhouse-release-1-1-54292-2017-09-20" class="table-of-contents__link toc-highlight">ClickHouse Release 1.1.54292, 2017-09-20</a></li><li><a href="#clickhouse-release-1-1-54289-2017-09-13" class="table-of-contents__link toc-highlight">ClickHouse Release 1.1.54289, 2017-09-13</a></li><li><a href="#clickhouse-release-1-1-54284-2017-08-29" class="table-of-contents__link toc-highlight">ClickHouse Release 1.1.54284, 2017-08-29</a></li><li><a href="#clickhouse-release-1-1-54282-2017-08-23" class="table-of-contents__link toc-highlight">ClickHouse Release 1.1.54282, 2017-08-23</a></li><li><a href="#clickhouse-release-1-1-54276-2017-08-16" class="table-of-contents__link toc-highlight">ClickHouse Release 1.1.54276, 2017-08-16</a></li><li><a href="#clickhouse-release-1-1-54245-2017-07-04" class="table-of-contents__link toc-highlight">ClickHouse Release 1.1.54245, 2017-07-04</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer_jryj"><div class="container_y1z5 container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">© 2016&ndash;2023 ClickHouse, Inc.</div></div><div><div class="footer__links text--center"><div class="footer__links"><a href="https://clickhouse.com/legal/trademark-policy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Trademark</a><span class="footer__link-separator">·</span><a href="https://clickhouse.com/legal/privacy-policy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy</a><span class="footer__link-separator">·</span><a href="https://trust.clickhouse.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Security</a><span class="footer__link-separator">·</span><a href="https://clickhouse.com/legal/agreements/terms-of-service" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Service</a></div></div></div></div><button class="colorModeButton_hk25"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.7227 0.724664C8.7227 0.330045 8.39191 0 8.0036 0C7.60809 0 7.2773 0.330045 7.2773 0.724664V2.18834C7.2773 2.57578 7.60809 2.90583 8.0036 2.90583C8.39191 2.90583 8.7227 2.57578 8.7227 2.18834V0.724664ZM11.5991 3.4009C11.3258 3.67354 11.3258 4.13274 11.6063 4.41256C11.8796 4.6852 12.347 4.69238 12.6274 4.40538L13.6629 3.3722C13.9434 3.09238 13.9362 2.62601 13.6629 2.34619C13.3897 2.07354 12.9222 2.08072 12.649 2.35336L11.5991 3.4009ZM3.37258 4.40538C3.64584 4.6852 4.11326 4.6852 4.38652 4.41256C4.66697 4.14709 4.66697 3.66637 4.4009 3.4009L3.3582 2.35336C3.09213 2.08789 2.61753 2.07354 2.34427 2.34619C2.07101 2.62601 2.06382 3.09238 2.33708 3.36502L3.37258 4.40538ZM7.9964 11.774C10.0602 11.774 11.7717 10.0664 11.7717 8C11.7717 5.93363 10.0602 4.22601 7.9964 4.22601C5.93258 4.22601 4.22112 5.93363 4.22112 8C4.22112 10.0664 5.93258 11.774 7.9964 11.774ZM7.9964 10.4395C6.65888 10.4395 5.55146 9.33453 5.55146 8C5.55146 6.66547 6.65888 5.56054 7.9964 5.56054C9.33393 5.56054 10.4413 6.66547 10.4413 8C10.4413 9.33453 9.33393 10.4395 7.9964 10.4395ZM15.2809 8.71749C15.6692 8.71749 16 8.38744 16 8C16 7.60538 15.6692 7.28251 15.2809 7.28251H13.8211C13.4328 7.28251 13.102 7.60538 13.102 8C13.102 8.38744 13.4328 8.71749 13.8211 8.71749H15.2809ZM0.719101 7.28251C0.330787 7.28251 0 7.60538 0 8C0 8.38744 0.330787 8.71749 0.719101 8.71749H2.17888C2.57438 8.71749 2.90517 8.38744 2.90517 8C2.90517 7.60538 2.57438 7.28251 2.17888 7.28251H0.719101ZM12.6202 11.5946C12.347 11.322 11.8796 11.322 11.5991 11.5946C11.3258 11.8744 11.3258 12.3336 11.6063 12.6135L12.649 13.6538C12.9294 13.9265 13.3897 13.9193 13.6701 13.6395C13.9434 13.3668 13.9434 12.9076 13.6629 12.6278L12.6202 11.5946ZM2.33708 12.6206C2.05663 12.9004 2.05663 13.3668 2.3227 13.6395C2.60315 13.9121 3.07056 13.9193 3.34382 13.6466L4.38652 12.6135C4.66697 12.3336 4.66697 11.8744 4.4009 11.6018C4.12045 11.322 3.65303 11.322 3.37258 11.5946L2.33708 12.6206ZM8.7227 13.8117C8.7227 13.4242 8.39191 13.0942 8.0036 13.0942C7.60809 13.0942 7.2773 13.4242 7.2773 13.8117V15.2753C7.2773 15.6628 7.60809 16 8.0036 16C8.39191 16 8.7227 15.6628 8.7227 15.2753V13.8117Z" fill="currentColor"></path></svg><span>light Mode</span></button></footer></div>
<script src="/docs/assets/js/runtime~main.d7d1d51d.js"></script>
<script src="/docs/assets/js/main.8b528d6c.js"></script>
</body>
</html>