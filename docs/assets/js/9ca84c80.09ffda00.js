"use strict";(self.webpackChunknew_nav_docusaurus_2_2=self.webpackChunknew_nav_docusaurus_2_2||[]).push([[11506],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>k});var n=a(67294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},m=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),c=p(a),u=l,k=c["".concat(s,".").concat(u)]||c[u]||d[u]||r;return a?n.createElement(k,i(i({ref:t},m),{},{components:a})):n.createElement(k,i({ref:t},m))}));function k(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,i=new Array(r);i[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[c]="string"==typeof e?e:l,i[1]=o;for(var p=2;p<r;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},55632:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>p,default:()=>N,frontMatter:()=>s,metadata:()=>m,toc:()=>d});var n=a(87462),l=(a(67294),a(3905));const r={toc:[]},i="wrapper";function o(e){let{components:t,...a}=e;return(0,l.kt)(i,(0,n.Z)({},r,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"This page is not applicable to ",(0,l.kt)("a",{parentName:"p",href:"https://clickhouse.com/cloud"},"ClickHouse Cloud"),". The feature documented here is not yet available in ClickHouse Cloud services.\nSee the ClickHouse ",(0,l.kt)("a",{parentName:"p",href:"/docs/en/whats-new/cloud-compatibility#roadmap"},"Cloud Compatibility")," guide for more information.")))}o.isMDXComponent=!0;const s={sidebar_label:"MySQL",sidebar_position:10,slug:"/en/integrations/mysql",description:"The MySQL table engine allows you to connect ClickHouse to MySQL.",keywords:["clickhouse","mysql","connect","integrate","table","engine"]},p="Integrating MySQL with ClickHouse",m={unversionedId:"en/integrations/data-ingestion/dbms/mysql/index",id:"en/integrations/data-ingestion/dbms/mysql/index",title:"Integrating MySQL with ClickHouse",description:"The MySQL table engine allows you to connect ClickHouse to MySQL.",source:"@site/docs/en/integrations/data-ingestion/dbms/mysql/index.md",sourceDirName:"en/integrations/data-ingestion/dbms/mysql",slug:"/en/integrations/mysql",permalink:"/docs/en/integrations/mysql",draft:!1,editUrl:"https://github.com/ClickHouse/clickhouse-docs/blob/main/docs/en/integrations/data-ingestion/dbms/mysql/index.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_label:"MySQL",sidebar_position:10,slug:"/en/integrations/mysql",description:"The MySQL table engine allows you to connect ClickHouse to MySQL.",keywords:["clickhouse","mysql","connect","integrate","table","engine"]},sidebar:"docs",previous:{title:"PostgreSQL",permalink:"/docs/en/integrations/postgresql"},next:{title:"Kafka",permalink:"/docs/en/integrations/kafka/"}},c={},d=[{value:"Connecting ClickHouse to MySQL using the MySQL Table Engine",id:"connecting-clickhouse-to-mysql-using-the-mysql-table-engine",level:2},{value:"1. Configure MySQL",id:"1-configure-mysql",level:3},{value:"2. Define a Table in ClickHouse",id:"2-define-a-table-in-clickhouse",level:3},{value:"3. Test the Integration",id:"3-test-the-integration",level:3},{value:"Summary",id:"summary",level:3},{value:"Replicate a MySQL Database in ClickHouse",id:"replicate-a-mysql-database-in-clickhouse",level:2},{value:"1. Configure MySQL",id:"1-configure-mysql-1",level:3},{value:"2. Configure ClickHouse",id:"2-configure-clickhouse",level:3},{value:"3. Test the Integration",id:"3-test-the-integration-1",level:3},{value:"Summary",id:"summary-1",level:3}],u={toc:d},k="wrapper";function N(e){let{components:t,...r}=e;return(0,l.kt)(k,(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"integrating-mysql-with-clickhouse"},"Integrating MySQL with ClickHouse"),(0,l.kt)("p",null,"This page covers two options for integrating MySQL with ClickHouse:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"using the ",(0,l.kt)("inlineCode",{parentName:"li"},"MySQL")," table engine, for reading from a MySQL table"),(0,l.kt)("li",{parentName:"ul"},"using the ",(0,l.kt)("inlineCode",{parentName:"li"},"MaterializedMySQL")," database engine, for syncing a database in MySQL with a database in ClickHouse")),(0,l.kt)("h2",{id:"connecting-clickhouse-to-mysql-using-the-mysql-table-engine"},"Connecting ClickHouse to MySQL using the MySQL Table Engine"),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"MySQL")," table engine allows you to connect ClickHouse to MySQL. ",(0,l.kt)("strong",{parentName:"p"},"SELECT")," and ",(0,l.kt)("strong",{parentName:"p"},"INSERT")," statements can be made in either ClickHouse or in the MySQL table. This article illustrates the basic methods of how to use the ",(0,l.kt)("inlineCode",{parentName:"p"},"MySQL")," table engine."),(0,l.kt)("h3",{id:"1-configure-mysql"},"1. Configure MySQL"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Create a database in MySQL:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE DATABASE db1;\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Create a table:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE db1.table1 (\n  id INT,\n  column1 VARCHAR(255)\n);\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Insert sample rows:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT INTO db1.table1\n  (id, column1)\nVALUES\n  (1, 'abc'),\n  (2, 'def'),\n  (3, 'ghi');\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Create a user to connect from ClickHouse:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE USER 'mysql_clickhouse'@'%' IDENTIFIED BY 'Password123!';\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Grant privileges as needed. (For demonstration purposes, the ",(0,l.kt)("inlineCode",{parentName:"p"},"mysql_clickhouse")," user is granted admin prvileges.)"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"GRANT ALL PRIVILEGES ON *.* TO 'mysql_clickhouse'@'%';\n")))),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"If you are using this feaure in ClickHouse Cloud, you may need the to allow the ClickHouse Cloud IP addresses to access your MySQL instance.\nView the ClickHouse Cloud public list of ",(0,l.kt)("a",{parentName:"p",href:"/docs/en/manage/security/ip-egress-traffic-list"},"IP address")," for egress traffic.")),(0,l.kt)("h3",{id:"2-define-a-table-in-clickhouse"},"2. Define a Table in ClickHouse"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Now let's create a ClickHouse table that uses the ",(0,l.kt)("inlineCode",{parentName:"p"},"MySQL")," table engine:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE mysql_table1 (\n  id UInt64,\n  column1 String\n)\nENGINE = MySQL('mysql-host.domain.com','db1','table1','mysql_clickhouse','Password123!')\n")),(0,l.kt)("p",{parentName:"li"},"The minimum parameters are:"),(0,l.kt)("table",{parentName:"li"},(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"parameter"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"example"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"host"),(0,l.kt)("td",{parentName:"tr",align:null},"hostname or IP"),(0,l.kt)("td",{parentName:"tr",align:null},"mysql-host.domain.com")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"database"),(0,l.kt)("td",{parentName:"tr",align:null},"mysql database name"),(0,l.kt)("td",{parentName:"tr",align:null},"db1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"table"),(0,l.kt)("td",{parentName:"tr",align:null},"mysql table name"),(0,l.kt)("td",{parentName:"tr",align:null},"table1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"user"),(0,l.kt)("td",{parentName:"tr",align:null},"username to connect to mysql"),(0,l.kt)("td",{parentName:"tr",align:null},"mysql_clickhouse")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"password"),(0,l.kt)("td",{parentName:"tr",align:null},"password to connect to mysql"),(0,l.kt)("td",{parentName:"tr",align:null},"Password123!")))),(0,l.kt)("admonition",{parentName:"li",type:"note"},(0,l.kt)("p",{parentName:"admonition"},"View the ",(0,l.kt)("a",{target:"_blank",href:a(71772).Z},"MySQL table engine")," doc page for a complete list of parameters.")))),(0,l.kt)("h3",{id:"3-test-the-integration"},"3. Test the Integration"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"In MySQL, insert a sample row:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT INTO db1.table1\n  (id, column1)\nVALUES\n  (4, 'jkl');\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Notice the existing rows from the MySQL table are in the ClickHouse table, along with the new row you just added:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT\n    id,\n    column1\nFROM mysql_table1\n")),(0,l.kt)("p",{parentName:"li"},"You should see 4 rows:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-response"},"Query id: 6d590083-841e-4e95-8715-ef37d3e95197\n\n\u250c\u2500id\u2500\u252c\u2500column1\u2500\u2510\n\u2502  1 \u2502 abc     \u2502\n\u2502  2 \u2502 def     \u2502\n\u2502  3 \u2502 ghi     \u2502\n\u2502  4 \u2502 jkl     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n4 rows in set. Elapsed: 0.044 sec.\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Let's add a row to the ClickHouse table:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT INTO mysql_table1\n  (id, column1)\nVALUES\n  (5,'mno')\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Notice the new row appears in MySQL:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"mysql> select id,column1 from db1.table1;\n")),(0,l.kt)("p",{parentName:"li"},"You should see the new row:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-response"},"+------+---------+\n| id   | column1 |\n+------+---------+\n|    1 | abc     |\n|    2 | def     |\n|    3 | ghi     |\n|    4 | jkl     |\n|    5 | mno     |\n+------+---------+\n5 rows in set (0.01 sec)\n")))),(0,l.kt)("h3",{id:"summary"},"Summary"),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"MySQL")," table engine allows you to connect ClickHouse to MySQL to exchange data back and forth. For more details, be sure to check out the documentation page for the ",(0,l.kt)("a",{parentName:"p",href:"https://clickhouse.com/docs/en/engines/table-engines/integrations/mysql"},"MySQL table engine"),"."),(0,l.kt)("h2",{id:"replicate-a-mysql-database-in-clickhouse"},"Replicate a MySQL Database in ClickHouse"),(0,l.kt)(o,{mdxType:"SelfManaged"}),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"MaterializedMySQL")," database engine allows you to define a database in ClickHouse that contains all the existing tables in a MySQL database, along with all the data in those tables. On the MySQL side, DDL and DML operations can continue to made and ClickHouse detects the changes and acts as a replica to MySQL database."),(0,l.kt)("p",null,"This article demonstrates how to configure MySQL and ClickHouse to implement this replication."),(0,l.kt)("h3",{id:"1-configure-mysql-1"},"1. Configure MySQL"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Configure the MySQL database to allow for replication and native authentication. ClickHouse only works with native password authentication. Add the following entries to ",(0,l.kt)("inlineCode",{parentName:"p"},"/etc/my.cnf"),":"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre"},"default-authentication-plugin = mysql_native_password\ngtid-mode = ON\nenforce-gtid-consistency = ON\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Create a user to connect from ClickHouse:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE USER clickhouse_user IDENTIFIED BY 'ClickHouse_123';\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Grant the needed permissions to the new user. For demonstration purposes, full admin rights have been granted here:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"GRANT ALL PRIVILEGES ON *.* TO 'clickhouse_user'@'%';\n")),(0,l.kt)("admonition",{parentName:"li",type:"note"},(0,l.kt)("p",{parentName:"admonition"},"The minimal permissions needed for the MySQL user are ",(0,l.kt)("strong",{parentName:"p"},"RELOAD"),", ",(0,l.kt)("strong",{parentName:"p"},"REPLICATION SLAVE"),", ",(0,l.kt)("strong",{parentName:"p"},"REPLICATION CLIENT")," and ",(0,l.kt)("strong",{parentName:"p"},"SELECT PRIVILEGE"),"."))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Create a database in MySQL:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE DATABASE db1;\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Create a table:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE db1.table_1 (\n    id INT,\n    column1 VARCHAR(10),\n    PRIMARY KEY (`id`)\n) ENGINE = InnoDB;\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Insert a few sample rows:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT INTO db1.table_1\n  (id, column1)\nVALUES\n  (1, 'abc'),\n  (2, 'def'),\n  (3, 'ghi');\n")))),(0,l.kt)("h3",{id:"2-configure-clickhouse"},"2. Configure ClickHouse"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Set parameter to allow use of experimental feature:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"set allow_experimental_database_materialized_mysql = 1;\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Create a database that uses the ",(0,l.kt)("inlineCode",{parentName:"p"},"MaterializedMySQL")," database engine:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE DATABASE db1_mysql\nENGINE = MaterializedMySQL(\n  'mysql-host.domain.com:3306',\n  'db1',\n  'clickhouse_user',\n  'ClickHouse_123'\n);\n")),(0,l.kt)("p",{parentName:"li"},"The minimum parameters are:"),(0,l.kt)("table",{parentName:"li"},(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"parameter"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"example"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"host:port"),(0,l.kt)("td",{parentName:"tr",align:null},"hostname or IP and port"),(0,l.kt)("td",{parentName:"tr",align:null},"mysql-host.domain.com")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"database"),(0,l.kt)("td",{parentName:"tr",align:null},"mysql database name"),(0,l.kt)("td",{parentName:"tr",align:null},"db1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"user"),(0,l.kt)("td",{parentName:"tr",align:null},"username to connect to mysql"),(0,l.kt)("td",{parentName:"tr",align:null},"clickhouse_user")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"password"),(0,l.kt)("td",{parentName:"tr",align:null},"password to connect to mysql"),(0,l.kt)("td",{parentName:"tr",align:null},"ClickHouse_123")))),(0,l.kt)("admonition",{parentName:"li",type:"note"},(0,l.kt)("p",{parentName:"admonition"},"View the ",(0,l.kt)("a",{target:"_blank",href:a(84243).Z},"MaterializedMySQL database engine")," doc page for a complete list of parameters.")))),(0,l.kt)("h3",{id:"3-test-the-integration-1"},"3. Test the Integration"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"In MySQL, insert a sample row:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT INTO db1.table_1\n  (id, column1)\nVALUES\n  (4, 'jkl');\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Notice the new row appears in the ClickHouse table:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT\n    id,\n    column1\nFROM db1_mysql.table_1\n")),(0,l.kt)("p",{parentName:"li"},"The response looks like:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-response"},"Query id: d61a5840-63ca-4a3d-8fac-c93235985654\n\n\u250c\u2500id\u2500\u252c\u2500column1\u2500\u2510\n\u2502  1 \u2502 abc     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250c\u2500id\u2500\u252c\u2500column1\u2500\u2510\n\u2502  4 \u2502 jkl     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250c\u2500id\u2500\u252c\u2500column1\u2500\u2510\n\u2502  2 \u2502 def     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250c\u2500id\u2500\u252c\u2500column1\u2500\u2510\n\u2502  3 \u2502 ghi     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n4 rows in set. Elapsed: 0.030 sec.\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Suppose the table in MySQL is modified. Let's a column to ",(0,l.kt)("inlineCode",{parentName:"p"},"db1.table_1")," in MySQL:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"alter table db1.table_1 add column column2 varchar(10) after column1;\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Now let's insert a row to the modified table:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT INTO db1.table_1\n  (id, column1, column2)\nVALUES\n  (5, 'mno', 'pqr');\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Notice the talbe in ClickHouse now has the new column and the new row:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT\n    id,\n    column1,\n    column2\nFROM db1_mysql.table_1\n")),(0,l.kt)("p",{parentName:"li"},"The previous rows will have ",(0,l.kt)("inlineCode",{parentName:"p"},"NULL")," for ",(0,l.kt)("inlineCode",{parentName:"p"},"column2"),":"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-response"},"Query id: 2c32fd15-3c83-480b-9bfc-cba5d932d674\n\nConnecting to localhost:9000 as user default.\nConnected to ClickHouse server version 22.2.2 revision 54455.\n\n\u250c\u2500id\u2500\u252c\u2500column1\u2500\u252c\u2500column2\u2500\u2510\n\u2502  3 \u2502 ghi     \u2502 \u1d3a\u1d41\u1d38\u1d38    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250c\u2500id\u2500\u252c\u2500column1\u2500\u252c\u2500column2\u2500\u2510\n\u2502  2 \u2502 def     \u2502 \u1d3a\u1d41\u1d38\u1d38    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250c\u2500id\u2500\u252c\u2500column1\u2500\u252c\u2500column2\u2500\u2510\n\u2502  1 \u2502 abc     \u2502 \u1d3a\u1d41\u1d38\u1d38    \u2502\n\u2502  5 \u2502 mno     \u2502 pqr     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250c\u2500id\u2500\u252c\u2500column1\u2500\u252c\u2500column2\u2500\u2510\n\u2502  4 \u2502 jkl     \u2502 \u1d3a\u1d41\u1d38\u1d38    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n5 rows in set. Elapsed: 0.017 sec.\n")))),(0,l.kt)("h3",{id:"summary-1"},"Summary"),(0,l.kt)("p",null,"That's it! The ",(0,l.kt)("inlineCode",{parentName:"p"},"MaterializedMySQL")," database engine will keep the MySQL database synced on ClickHouse. There are a few details and limitations, so be sure to read the ",(0,l.kt)("a",{parentName:"p",href:"/docs/en/engines/database-engines/materialized-mysql"},"doc page for MaterializedMySQL")," for more details."))}N.isMDXComponent=!0},84243:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/files/materialized-mysql-132fe232047f842beb8db26119dac643.md"},71772:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/files/mysql-1798d563117431de7cda10ac6731fca7.md"}}]);