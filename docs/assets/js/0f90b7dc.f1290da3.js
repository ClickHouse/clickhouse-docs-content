"use strict";(self.webpackChunknew_nav_docusaurus_2_2=self.webpackChunknew_nav_docusaurus_2_2||[]).push([[57775],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>k});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),p=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},m=function(e){var t=p(e.components);return a.createElement(i.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,s=e.originalType,i=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),c=p(n),d=r,k=c["".concat(i,".").concat(d)]||c[d]||u[d]||s;return n?a.createElement(k,l(l({ref:t},m),{},{components:n})):a.createElement(k,l({ref:t},m))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=n.length,l=new Array(s);l[0]=d;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o[c]="string"==typeof e?e:r,l[1]=o;for(var p=2;p<s;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},63491:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>k,frontMatter:()=>s,metadata:()=>o,toc:()=>p});var a=n(87462),r=(n(67294),n(3905));const s={slug:"/en/operations/access-rights",sidebar_position:1,sidebar_label:"Users and Roles",title:"Access Control and Account Management"},l="Creating Users and Roles in ClickHouse",o={unversionedId:"en/guides/sre/user-management/index",id:"en/guides/sre/user-management/index",title:"Access Control and Account Management",description:"ClickHouse supports access control management based on RBAC approach.",source:"@site/docs/en/guides/sre/user-management/index.md",sourceDirName:"en/guides/sre/user-management",slug:"/en/operations/access-rights",permalink:"/docs/en/operations/access-rights",draft:!1,editUrl:"https://github.com/ClickHouse/clickhouse-docs/blob/main/docs/en/guides/sre/user-management/index.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{slug:"/en/operations/access-rights",sidebar_position:1,sidebar_label:"Users and Roles",title:"Access Control and Account Management"},sidebar:"docs",previous:{title:"Managing ClickHouse",permalink:"/docs/en/operations"},next:{title:"Backup and Restore",permalink:"/docs/en/operations/backup"}},i={},p=[{value:"Overview",id:"access-control-usage",level:2},{value:"Properties of Current Solution",id:"access-control-properties",level:3},{value:"User Account",id:"user-account-management",level:3},{value:"Settings Applying",id:"access-control-settings-applying",level:3},{value:"Role",id:"role-management",level:3},{value:"Row Policy",id:"row-policy-management",level:4},{value:"Settings Profile",id:"settings-profiles-management",level:3},{value:"Quota",id:"quotas-management",level:3},{value:"Enabling SQL-driven Access Control and Account Management",id:"enabling-access-control",level:3},{value:"Defining SQL Users and Roles",id:"defining-sql-users-and-roles",level:2},{value:"Enabling SQL user mode",id:"enabling-sql-user-mode",level:3},{value:"Defining users",id:"defining-users",level:3},{value:"ALTER permissions",id:"alter-permissions",level:2}],m=(c="Content",function(e){return console.warn("Component "+c+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",e)});var c;const u={toc:p},d="wrapper";function k(e){let{components:t,...n}=e;return(0,r.kt)(d,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"creating-users-and-roles-in-clickhouse"},"Creating Users and Roles in ClickHouse"),(0,r.kt)("p",null,"ClickHouse supports access control management based on ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Role-based_access_control"},"RBAC")," approach."),(0,r.kt)("p",null,"ClickHouse access entities:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#user-account-management"},"User account")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#role-management"},"Role")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#row-policy-management"},"Row Policy")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#settings-profiles-management"},"Settings Profile")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#quotas-management"},"Quota"))),(0,r.kt)("p",null,"You can configure access entities using:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"SQL-driven workflow."),(0,r.kt)("p",{parentName:"li"},"You need to ",(0,r.kt)("a",{parentName:"p",href:"#enabling-access-control"},"enable")," this functionality.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Server ",(0,r.kt)("a",{parentName:"p",href:"/docs/en/operations/configuration-files"},"configuration files")," ",(0,r.kt)("inlineCode",{parentName:"p"},"users.xml")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"config.xml"),"."))),(0,r.kt)("p",null,"We recommend using SQL-driven workflow. Both of the configuration methods work simultaneously, so if you use the server configuration files for managing accounts and access rights, you can smoothly switch to SQL-driven workflow."),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"You can\u2019t manage the same access entity by both configuration methods simultaneously.")),(0,r.kt)("p",null,"To see all users, roles, profiles, etc. and all their grants use ",(0,r.kt)("a",{parentName:"p",href:"/docs/en/sql-reference/statements/show#show-access-statement"},"SHOW ACCESS")," statement."),(0,r.kt)("h2",{id:"access-control-usage"},"Overview"),(0,r.kt)("p",null,"By default, the ClickHouse server provides the ",(0,r.kt)("inlineCode",{parentName:"p"},"default")," user account which is not allowed using SQL-driven access control and account management but has all the rights and permissions. The ",(0,r.kt)("inlineCode",{parentName:"p"},"default")," user account is used in any cases when the username is not defined, for example, at login from client or in distributed queries. In distributed query processing a default user account is used, if the configuration of the server or cluster does not specify the ",(0,r.kt)("a",{parentName:"p",href:"/docs/en/engines/table-engines/special/distributed"},"user and password")," properties."),(0,r.kt)("p",null,"If you just started using ClickHouse, consider the following scenario:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"#enabling-access-control"},"Enable")," SQL-driven access control and account management for the ",(0,r.kt)("inlineCode",{parentName:"li"},"default")," user."),(0,r.kt)("li",{parentName:"ol"},"Log in to the ",(0,r.kt)("inlineCode",{parentName:"li"},"default")," user account and create all the required users. Don\u2019t forget to create an administrator account (",(0,r.kt)("inlineCode",{parentName:"li"},"GRANT ALL ON *.* TO admin_user_account WITH GRANT OPTION"),")."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/operations/settings/permissions-for-queries#permissions_for_queries"},"Restrict permissions")," for the ",(0,r.kt)("inlineCode",{parentName:"li"},"default")," user and disable SQL-driven access control and account management for it.")),(0,r.kt)("h3",{id:"access-control-properties"},"Properties of Current Solution"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"You can grant permissions for databases and tables even if they do not exist."),(0,r.kt)("li",{parentName:"ul"},"If a table was deleted, all the privileges that correspond to this table are not revoked. This means that even if you create a new table with the same name later, all the privileges remain valid. To revoke privileges corresponding to the deleted table, you need to execute, for example, the ",(0,r.kt)("inlineCode",{parentName:"li"},"REVOKE ALL PRIVILEGES ON db.table FROM ALL")," query."),(0,r.kt)("li",{parentName:"ul"},"There are no lifetime settings for privileges.")),(0,r.kt)("h3",{id:"user-account-management"},"User Account"),(0,r.kt)("p",null,"A user account is an access entity that allows to authorize someone in ClickHouse. A user account contains:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Identification information."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/grant#grant-privileges"},"Privileges")," that define a scope of queries the user can execute."),(0,r.kt)("li",{parentName:"ul"},"Hosts allowed to connect to the ClickHouse server."),(0,r.kt)("li",{parentName:"ul"},"Assigned and default roles."),(0,r.kt)("li",{parentName:"ul"},"Settings with their constraints applied by default at user login."),(0,r.kt)("li",{parentName:"ul"},"Assigned settings profiles.")),(0,r.kt)("p",null,"Privileges can be granted to a user account by the ",(0,r.kt)("a",{parentName:"p",href:"/docs/en/sql-reference/statements/grant"},"GRANT")," query or by assigning ",(0,r.kt)("a",{parentName:"p",href:"#role-management"},"roles"),". To revoke privileges from a user, ClickHouse provides the ",(0,r.kt)("a",{parentName:"p",href:"/docs/en/sql-reference/statements/revoke"},"REVOKE")," query. To list privileges for a user, use the ",(0,r.kt)("a",{parentName:"p",href:"/docs/en/sql-reference/statements/show#show-grants-statement"},"SHOW GRANTS")," statement."),(0,r.kt)("p",null,"Management queries:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/create/user"},"CREATE USER")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/alter/user#alter-user-statement"},"ALTER USER")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/drop"},"DROP USER")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/show#show-create-user-statement"},"SHOW CREATE USER")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/show#show-users-statement"},"SHOW USERS"))),(0,r.kt)("h3",{id:"access-control-settings-applying"},"Settings Applying"),(0,r.kt)("p",null,"Settings can be configured differently: for a user account, in its granted roles and in settings profiles. At user login, if a setting is configured for different access entities, the value and constraints of this setting are applied as follows (from higher to lower priority):"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"User account settings."),(0,r.kt)("li",{parentName:"ol"},"The settings of default roles of the user account. If a setting is configured in some roles, then order of the setting application is undefined."),(0,r.kt)("li",{parentName:"ol"},"The settings from settings profiles assigned to a user or to its default roles. If a setting is configured in some profiles, then order of setting application is undefined."),(0,r.kt)("li",{parentName:"ol"},"Settings applied to all the server by default or from the ",(0,r.kt)("a",{parentName:"li",href:"/docs/en/operations/server-configuration-parameters/settings#default-profile"},"default profile"),".")),(0,r.kt)("h3",{id:"role-management"},"Role"),(0,r.kt)("p",null,"Role is a container for access entities that can be granted to a user account."),(0,r.kt)("p",null,"Role contains:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/grant#grant-privileges"},"Privileges")),(0,r.kt)("li",{parentName:"ul"},"Settings and constraints"),(0,r.kt)("li",{parentName:"ul"},"List of assigned roles")),(0,r.kt)("p",null,"Management queries:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/create/role"},"CREATE ROLE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/alter/role#alter-role-statement"},"ALTER ROLE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/drop"},"DROP ROLE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/set-role"},"SET ROLE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/set-role#set-default-role-statement"},"SET DEFAULT ROLE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/show#show-create-role-statement"},"SHOW CREATE ROLE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/show#show-roles-statement"},"SHOW ROLES"))),(0,r.kt)("p",null,"Privileges can be granted to a role by the ",(0,r.kt)("a",{parentName:"p",href:"/docs/en/sql-reference/statements/grant"},"GRANT")," query. To revoke privileges from a role ClickHouse provides the ",(0,r.kt)("a",{parentName:"p",href:"/docs/en/sql-reference/statements/revoke"},"REVOKE")," query."),(0,r.kt)("h4",{id:"row-policy-management"},"Row Policy"),(0,r.kt)("p",null,"Row policy is a filter that defines which of the rows are available to a user or a role. Row policy contains filters for one particular table, as well as a list of roles and/or users which should use this row policy."),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"Row policies makes sense only for users with readonly access. If user can modify table or copy partitions between tables, it defeats the restrictions of row policies.")),(0,r.kt)("p",null,"Management queries:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/create/row-policy"},"CREATE ROW POLICY")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/alter/row-policy#alter-row-policy-statement"},"ALTER ROW POLICY")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/drop#drop-row-policy-statement"},"DROP ROW POLICY")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/show#show-create-row-policy-statement"},"SHOW CREATE ROW POLICY")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/show#show-policies-statement"},"SHOW POLICIES"))),(0,r.kt)("h3",{id:"settings-profiles-management"},"Settings Profile"),(0,r.kt)("p",null,"Settings profile is a collection of ",(0,r.kt)("a",{parentName:"p",href:"/docs/en/operations/settings/"},"settings"),". Settings profile contains settings and constraints, as well as a list of roles and/or users to which this profile is applied."),(0,r.kt)("p",null,"Management queries:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/create/settings-profile#create-settings-profile-statement"},"CREATE SETTINGS PROFILE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/alter/settings-profile#alter-settings-profile-statement"},"ALTER SETTINGS PROFILE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/drop#drop-settings-profile-statement"},"DROP SETTINGS PROFILE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/show#show-create-settings-profile-statement"},"SHOW CREATE SETTINGS PROFILE")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/show#show-profiles-statement"},"SHOW PROFILES"))),(0,r.kt)("h3",{id:"quotas-management"},"Quota"),(0,r.kt)("p",null,"Quota limits resource usage. See ",(0,r.kt)("a",{parentName:"p",href:"/docs/en/operations/quotas"},"Quotas"),"."),(0,r.kt)("p",null,"Quota contains a set of limits for some durations, as well as a list of roles and/or users which should use this quota."),(0,r.kt)("p",null,"Management queries:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/create/quota"},"CREATE QUOTA")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/alter/quota#alter-quota-statement"},"ALTER QUOTA")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/drop#drop-quota-statement"},"DROP QUOTA")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/show#show-create-quota-statement"},"SHOW CREATE QUOTA")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/show#show-quota-statement"},"SHOW QUOTA")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/en/sql-reference/statements/show#show-quotas-statement"},"SHOW QUOTAS"))),(0,r.kt)("h3",{id:"enabling-access-control"},"Enabling SQL-driven Access Control and Account Management"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Setup a directory for configurations storage."),(0,r.kt)("p",{parentName:"li"},"ClickHouse stores access entity configurations in the folder set in the ",(0,r.kt)("a",{parentName:"p",href:"/docs/en/operations/server-configuration-parameters/settings#access_control_path"},"access_control_path")," server configuration parameter.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Enable SQL-driven access control and account management for at least one user account."),(0,r.kt)("p",{parentName:"li"},"By default, SQL-driven access control and account management is disabled for all users. You need to configure at least one user in the ",(0,r.kt)("inlineCode",{parentName:"p"},"users.xml")," configuration file and set the value of the ",(0,r.kt)("a",{parentName:"p",href:"/docs/en/operations/settings/settings-users#access_management-user-setting"},"access_management")," setting to 1."))),(0,r.kt)("h2",{id:"defining-sql-users-and-roles"},"Defining SQL Users and Roles"),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"If you are working in ClickHouse Cloud please see ",(0,r.kt)("a",{parentName:"p",href:"/docs/en/cloud/users-and-roles"},"Cloud users and roles"),".")),(0,r.kt)("p",null,"This article shows the basics of defining SQL users and roles and applying those privileges and permissions to databases, tables, rows, and columns."),(0,r.kt)("h3",{id:"enabling-sql-user-mode"},"Enabling SQL user mode"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Enable SQL user mode in the ",(0,r.kt)("inlineCode",{parentName:"p"},"users.xml")," file under the ",(0,r.kt)("inlineCode",{parentName:"p"},"<default>")," user:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<access_management>1</access_management>\n")),(0,r.kt)("admonition",{parentName:"li",type:"note"},(0,r.kt)("p",{parentName:"admonition"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"default")," user is the only user that gets created with a fresh install and is also the account used for internode communications, by default."),(0,r.kt)("p",{parentName:"admonition"},"In production, it is recommended to disable this user once the inter-node communication has been configured with a SQL admin user and inter-node communications have been set with ",(0,r.kt)("inlineCode",{parentName:"p"},"<secret>"),", cluster credentials, and/or internode HTTP and transport protocol credentials since the ",(0,r.kt)("inlineCode",{parentName:"p"},"default")," account is used for internode communication."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Restart the nodes to apply the changes.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Start the ClickHouse client:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"clickhouse-client --user default --password <password>\n")))),(0,r.kt)("h3",{id:"defining-users"},"Defining users"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Create a SQL administrator account:",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE USER clickhouse_admin IDENTIFIED BY 'password';\n"))),(0,r.kt)("li",{parentName:"ol"},"Grant the new user full administrative rights",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"GRANT ALL ON *.* TO clickhouse_admin WITH GRANT OPTION;\n")))),(0,r.kt)(m,{mdxType:"Content"}),(0,r.kt)("h2",{id:"alter-permissions"},"ALTER permissions"),(0,r.kt)("p",null,"This article is intended to provide you with a better understanding of how to define permissions, and how permissions work when using ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER")," statements for privileged users."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER")," statements are divided into several categories, some of which are hierarchical and some of which are not and must be explicitly defined."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example DB, table and user configuration")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"With an admin user, create a sample user")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE USER my_user IDENTIFIED BY 'password';\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Create sample database")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE DATABASE my_db;\n")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Create a sample table")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE my_db.my_table (id UInt64, column1 String) ENGINE = MergeTree() ORDER BY id;\n")),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"Create a sample admin user to grant/revoke privileges")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE USER my_alter_admin IDENTIFIED BY 'password';\n")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"To grant or revoke permissions, the admin user must have the ",(0,r.kt)("inlineCode",{parentName:"p"},"WITH GRANT OPTION")," privilege.\nFor example:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"GRANT ALTER ON my_db.* WITH GRANT OPTION\n")),(0,r.kt)("p",{parentName:"admonition"},"In order to GRANT or REVOKE privileges the user must have those privileges themselves first.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Granting or Revoking Privileges")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER")," hierarchy:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},".\n\u251c\u2500\u2500 ALTER (only for table and view)/\n\u2502   \u251c\u2500\u2500 ALTER TABLE/\n\u2502   \u2502   \u251c\u2500\u2500 ALTER UPDATE\n\u2502   \u2502   \u251c\u2500\u2500 ALTER DELETE\n\u2502   \u2502   \u251c\u2500\u2500 ALTER COLUMN/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 ALTER ADD COLUMN\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 ALTER DROP COLUMN\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 ALTER MODIFY COLUMN\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 ALTER COMMENT COLUMN\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 ALTER CLEAR COLUMN\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ALTER RENAME COLUMN\n\u2502   \u2502   \u251c\u2500\u2500 ALTER INDEX/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 ALTER ORDER BY\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 ALTER SAMPLE BY\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 ALTER ADD INDEX\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 ALTER DROP INDEX\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 ALTER MATERIALIZE INDEX\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ALTER CLEAR INDEX\n\u2502   \u2502   \u251c\u2500\u2500 ALTER CONSTRAINT/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 ALTER ADD CONSTRAINT\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ALTER DROP CONSTRAINT\n\u2502   \u2502   \u251c\u2500\u2500 ALTER TTL/\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ALTER MATERIALIZE TTL\n\u2502   \u2502   \u251c\u2500\u2500 ALTER SETTINGS\n\u2502   \u2502   \u251c\u2500\u2500 ALTER MOVE PARTITION\n\u2502   \u2502   \u251c\u2500\u2500 ALTER FETCH PARTITION\n\u2502   \u2502   \u2514\u2500\u2500 ALTER FREEZE PARTITION\n\u2502   \u2514\u2500\u2500 ALTER LIVE VIEW/\n\u2502       \u251c\u2500\u2500 ALTER LIVE VIEW REFRESH\n\u2502       \u2514\u2500\u2500 ALTER LIVE VIEW MODIFY QUERY\n\u251c\u2500\u2500 ALTER DATABASE\n\u251c\u2500\u2500 ALTER USER\n\u251c\u2500\u2500 ALTER ROLE\n\u251c\u2500\u2500 ALTER QUOTA\n\u251c\u2500\u2500 ALTER [ROW] POLICY\n\u2514\u2500\u2500 ALTER [SETTINGS] PROFILE\n")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Granting ",(0,r.kt)("inlineCode",{parentName:"li"},"ALTER")," Privileges to a User or Role")),(0,r.kt)("p",null,"Using an ",(0,r.kt)("inlineCode",{parentName:"p"},"GRANT ALTER on *.* TO my_user")," will only affect top-level ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER TABLE")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER VIEW")," , other ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER")," statements must be individually granted or revoked."),(0,r.kt)("p",null,"for example, granting basic ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER")," privilege:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"GRANT ALTER ON my_db.my_table TO my_user;\n")),(0,r.kt)("p",null,"Resulting set of privileges:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SHOW GRANTS FOR  my_user;\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-response"},"SHOW GRANTS FOR my_user\n\nQuery id: 706befbc-525e-4ec1-a1a2-ba2508cc09e3\n\n\u250c\u2500GRANTS FOR my_user\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 GRANT ALTER TABLE, ALTER VIEW ON my_db.my_table TO my_user   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,r.kt)("p",null,"This will grant all permissions under ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER TABLE")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER VIEW")," from the example above, however, it will not grant certain other ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER")," permissions such as ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER ROW POLICY")," (Refer back to the hierarchy and you will see that ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER ROW POLICY")," is not a child of ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER TABLE")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER VIEW"),"). Those must be explicitly granted or revoked."),(0,r.kt)("p",null,"If only a subset of ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER")," permissions is needed then each can be granted separately, if there are sub-privileges to that permission then those would be automatically granted also."),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"GRANT ALTER COLUMN ON my_db.my_table TO my_user;\n")),(0,r.kt)("p",null,"Grants would be set as:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SHOW GRANTS FOR my_user;\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-response"},"SHOW GRANTS FOR my_user\n\nQuery id: 47b3d03f-46ac-4385-91ec-41119010e4e2\n\n\u250c\u2500GRANTS FOR my_user\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 GRANT ALTER COLUMN ON default.my_table TO my_user \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n1 row in set. Elapsed: 0.004 sec.\n")),(0,r.kt)("p",null,"This also gives the following sub-privileges:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"ALTER ADD COLUMN\nALTER DROP COLUMN\nALTER MODIFY COLUMN\nALTER COMMENT COLUMN\nALTER CLEAR COLUMN\nALTER RENAME COLUMN\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Revoking ",(0,r.kt)("inlineCode",{parentName:"li"},"ALTER")," privileges from Users and Roles")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"REVOKE")," statement works similarly to the ",(0,r.kt)("inlineCode",{parentName:"p"},"GRANT")," statement."),(0,r.kt)("p",null,"If a user/role was granted a sub-privilege, you may either revoke that sub-privilege directly or can revoke the next upline privilege."),(0,r.kt)("p",null,"For example, if the user was granted ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER ADD COLUMN")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"GRANT ALTER ADD COLUMN ON my_db.my_table TO my_user;\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-response"},"GRANT ALTER ADD COLUMN ON my_db.my_table TO my_user\n\nQuery id: 61fe0fdc-1442-4cd6-b2f3-e8f2a853c739\n\nOk.\n\n0 rows in set. Elapsed: 0.002 sec.\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SHOW GRANTS FOR my_user;\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-response"},"SHOW GRANTS FOR my_user\n\nQuery id: 27791226-a18f-46c8-b2b4-a9e64baeb683\n\n\u250c\u2500GRANTS FOR my_user\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 GRANT ALTER ADD COLUMN ON my_db.my_table TO my_user \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,r.kt)("p",null,"A privilege can be revoked individually:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"REVOKE ALTER ADD COLUMN ON my_db.my_table FROM my_user;\n")),(0,r.kt)("p",null,"Or can be revoked from any of the upper levels (revoke all of the COLUMN sub privileges):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"REVOKE ALTER COLUMN ON my_db.my_table FROM my_user;\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-response"},"REVOKE ALTER COLUMN ON my_db.my_table FROM my_user\n\nQuery id: b882ba1b-90fb-45b9-b10f-3cda251e2ccc\n\nOk.\n\n0 rows in set. Elapsed: 0.002 sec.\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SHOW GRANTS FOR my_user;\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-response"},"SHOW GRANTS FOR my_user\n\nQuery id: e7d341de-de65-490b-852c-fa8bb8991174\n\nOk.\n\n0 rows in set. Elapsed: 0.003 sec.\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Additonal"),"\nThe privileges must be granted by a user that not only has the ",(0,r.kt)("inlineCode",{parentName:"p"},"WITH GRANT OPTION")," but also has the privileges themselves."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"To grant an admin user the privilege and also allow them to administer a set of privileges\nBelow is an example:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"GRANT SELECT, ALTER COLUMN ON my_db.my_table TO my_alter_admin WITH GRANT OPTION;\n")),(0,r.kt)("p",null,"Now the user can grant or revoke ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER COLUMN")," and all sub-privileges."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Testing")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Add the ",(0,r.kt)("inlineCode",{parentName:"li"},"SELECT")," privilege")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"}," GRANT SELECT ON my_db.my_table TO my_user;\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Add the add column privilege to the user")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"GRANT ADD COLUMN ON my_db.my_table TO my_user;\n")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Log in with the restricted user")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"clickhouse-client --user my_user --password password --port 9000 --host <your_clickhouse_host>\n")),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"Test adding a column")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"ALTER TABLE my_db.my_table ADD COLUMN column2 String;\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-response"},"ALTER TABLE my_db.my_table\n    ADD COLUMN `column2` String\n\nQuery id: d5d6bfa1-b80c-4d9f-8dcd-d13e7bd401a5\n\nOk.\n\n0 rows in set. Elapsed: 0.010 sec.\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"DESCRIBE my_db.my_table;\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-response"},"DESCRIBE TABLE my_db.my_table\n\nQuery id: ab9cb2d0-5b1a-42e1-bc9c-c7ff351cb272\n\n\u250c\u2500name\u2500\u2500\u2500\u2500\u252c\u2500type\u2500\u2500\u2500\u252c\u2500default_type\u2500\u252c\u2500default_expression\u2500\u252c\u2500comment\u2500\u252c\u2500codec_expression\u2500\u252c\u2500ttl_expression\u2500\u2510\n\u2502 id      \u2502 UInt64 \u2502              \u2502                    \u2502         \u2502                  \u2502                \u2502\n\u2502 column1 \u2502 String \u2502              \u2502                    \u2502         \u2502                  \u2502                \u2502\n\u2502 column2 \u2502 String \u2502              \u2502                    \u2502         \u2502                  \u2502                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"Test deleting a column")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"ALTER TABLE my_db.my_table DROP COLUMN column2;\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-response"},"ALTER TABLE my_db.my_table\n    DROP COLUMN column2\n\nQuery id: 50ad5f6b-f64b-4c96-8f5f-ace87cea6c47\n\n\n0 rows in set. Elapsed: 0.004 sec.\n\nReceived exception from server (version 22.5.1):\nCode: 497. DB::Exception: Received from chnode1.marsnet.local:9440. DB::Exception: my_user: Not enough privileges. To execute this query it's necessary to have grant ALTER DROP COLUMN(column2) ON my_db.my_table. (ACCESS_DENIED)\n")),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},"Testing the alter admin by granting the permission")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"GRANT SELECT, ALTER COLUMN ON my_db.my_table TO my_alter_admin WITH GRANT OPTION;\n")),(0,r.kt)("ol",{start:6},(0,r.kt)("li",{parentName:"ol"},"Log in with the alter admin user")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"clickhouse-client --user my_alter_admin --password password --port 9000 --host <my_clickhouse_host>\n")),(0,r.kt)("ol",{start:7},(0,r.kt)("li",{parentName:"ol"},"Grant a sub-privilege")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"GRANT ALTER ADD COLUMN ON my_db.my_table TO my_user;\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-response"},"GRANT ALTER ADD COLUMN ON my_db.my_table TO my_user\n\nQuery id: 1c7622fa-9df1-4c54-9fc3-f984c716aeba\n\nOk.\n")),(0,r.kt)("ol",{start:8},(0,r.kt)("li",{parentName:"ol"},"Test granting a privilege that the alter admin user does not have is not a sub privilege of the grants for the admin user.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"GRANT ALTER UPDATE ON my_db.my_table TO my_user;\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-response"},"GRANT ALTER UPDATE ON my_db.my_table TO my_user\n\nQuery id: 191690dc-55a6-4625-8fee-abc3d14a5545\n\n\n0 rows in set. Elapsed: 0.004 sec.\n\nReceived exception from server (version 22.5.1):\nCode: 497. DB::Exception: Received from chnode1.marsnet.local:9440. DB::Exception: my_alter_admin: Not enough privileges. To execute this query it's necessary to have grant ALTER UPDATE ON my_db.my_table WITH GRANT OPTION. (ACCESS_DENIED)\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Summary"),"\nThe ALTER privileges are hierarchical for ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER")," with tables and views but not for other ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER")," statements.  The permissions can be set in granular level or by grouping of permissions and also revoked similarly. The user granting or revoking must have ",(0,r.kt)("inlineCode",{parentName:"p"},"WITH GRANT OPTION")," to set privileges on users, including the acting user themselves, and must have the privilege already. The acting user cannot revoke their own privileges if they do not have the grant option privilege themselves."))}k.isMDXComponent=!0}}]);