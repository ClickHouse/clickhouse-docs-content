"use strict";(self.webpackChunkclickhouse=self.webpackChunkclickhouse||[]).push([[80717],{3905:function(e,t,a){a.d(t,{Zo:function(){return d},kt:function(){return m}});var i=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,i,o=function(e,t){if(null==e)return{};var a,i,o={},n=Object.keys(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=i.createContext({}),c=function(e){var t=i.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},d=function(e){var t=c(e.components);return i.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var a=e.components,o=e.mdxType,n=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=c(a),m=o,h=p["".concat(s,".").concat(m)]||p[m]||u[m]||n;return a?i.createElement(h,r(r({ref:t},d),{},{components:a})):i.createElement(h,r({ref:t},d))}));function m(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var n=a.length,r=new Array(n);r[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,r[1]=l;for(var c=2;c<n;c++)r[c]=a[c];return i.createElement.apply(null,r)}return i.createElement.apply(null,a)}p.displayName="MDXCreateElement"},55938:function(e,t,a){a.r(t),a.d(t,{assets:function(){return d},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return u}});var i=a(87462),o=a(63366),n=(a(67294),a(3905)),r=["components"],l={sidebar_label:"Billing",slug:"/en/manage/billing"},s="Billing",c={unversionedId:"en/manage/billing",id:"en/manage/billing",title:"Billing",description:"Pricing",source:"@site/docs/en/manage/billing.md",sourceDirName:"en/manage",slug:"/en/manage/billing",permalink:"/docs/en/manage/billing",draft:!1,editUrl:"https://github.com/ClickHouse/clickhouse-docs/blob/main/docs/en/manage/billing.md",tags:[],version:"current",frontMatter:{sidebar_label:"Billing",slug:"/en/manage/billing"},sidebar:"english",previous:{title:"Manage",permalink:"/docs/en/manage"},next:{title:"Automatic Scaling",permalink:"/docs/en/manage/scaling"}},d={},u=[{value:"Pricing",id:"pricing",level:2},{value:"FAQs",id:"faqs",level:2},{value:"What is a Read Unit?",id:"what-is-a-read-unit",level:3},{value:"How is Storage on disk calculated?",id:"how-is-storage-on-disk-calculated",level:3},{value:"How do I estimate compression?",id:"how-do-i-estimate-compression",level:3},{value:"What tools does ClickHouse offer to estimate the cost for running a service in the cloud if I have a self-managed deployment?",id:"what-tools-does-clickhouse-offer-to-estimate-the-cost-for-running-a-service-in-the-cloud-if-i-have-a-self-managed-deployment",level:3},{value:"Do Backups count towards total storage?",id:"do-backups-count-towards-total-storage",level:3},{value:"What billing options are available for ClickHouse Cloud (Beta)?",id:"what-billing-options-are-available-for-clickhouse-cloud-beta",level:3},{value:"How long is the billing cycle?",id:"how-long-is-the-billing-cycle",level:3},{value:"What controls does ClickHouse Cloud offer to manage costs?",id:"what-controls-does-clickhouse-cloud-offer-to-manage-costs",level:3},{value:"If I have multiple services, do I get an invoice per service or a consolidated invoice?",id:"if-i-have-multiple-services-do-i-get-an-invoice-per-service-or-a-consolidated-invoice",level:3},{value:"If I add my credit card and upgrade ahead of time before my trial period and credits expire will I be charged?",id:"if-i-add-my-credit-card-and-upgrade-ahead-of-time-before-my-trial-period-and-credits-expire-will-i-be-charged",level:3},{value:"How can I keep track of my spending?",id:"how-can-i-keep-track-of-my-spending",level:2},{value:"Reducing your costs",id:"reducing-your-costs",level:2},{value:"What are the areas of optimization to manage costs effectively when running ClickHouse Cloud?",id:"what-are-the-areas-of-optimization-to-manage-costs-effectively-when-running-clickhouse-cloud",level:3},{value:"Sample scenarios and associated cost",id:"sample-scenarios-and-associated-cost",level:2},{value:"Dev/Test scenario ~ $567 per month",id:"devtest-scenario--567-per-month",level:3},{value:"Steady workload scenario ~$3,511 per month",id:"steady-workload-scenario-3511-per-month",level:3},{value:"Heavy usage scenario for ad-hoc analytics ~$2,596 per month",id:"heavy-usage-scenario-for-ad-hoc-analytics-2596-per-month",level:3}],p={toc:u};function m(e){var t=e.components,a=(0,o.Z)(e,r);return(0,n.kt)("wrapper",(0,i.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"billing"},"Billing"),(0,n.kt)("h2",{id:"pricing"},"Pricing"),(0,n.kt)("p",null,"For pricing information see the ",(0,n.kt)("a",{parentName:"p",href:"https://clickhouse.com/pricing"},"ClickHouse Cloud Pricing")," page.  To understand what can affect your bill, and ways that you\ncan manage your spend, keep reading."),(0,n.kt)("h2",{id:"faqs"},"FAQs"),(0,n.kt)("h3",{id:"what-is-a-read-unit"},"What is a Read Unit?"),(0,n.kt)("p",null,"Read Unit is a measure of the GET operations on the Object Store (for example, AWS S3)."),(0,n.kt)("h3",{id:"how-is-storage-on-disk-calculated"},"How is Storage on disk calculated?"),(0,n.kt)("p",null,"ClickHouse Cloud uses cloud storage (AWS S3) and is metered on the compressed size (replication is included in the price)."),(0,n.kt)("h3",{id:"how-do-i-estimate-compression"},"How do I estimate compression?"),(0,n.kt)("p",null,"Compression can vary quite a bit by dataset. It is dependent on how compressible the data is in the first place (number of high vs. low cardinality fields), and how the user sets up the schema (using optional codecs or not, for instance). It can be on the order of 10x for common types of analytical data, but it can be significantly lower or higher as well. See the ",(0,n.kt)("a",{parentName:"p",href:"/docs/en/optimize/"},"optimizing")," documentation for guidance, and this ",(0,n.kt)("a",{parentName:"p",href:"https://www.uber.com/blog/logging/"},"Uber blog")," for a detailed logging use case example.\nThe only practical way to know exactly is to ingest your dataset into ClickHouse and compare the size of the dataset with the size stored in ClickHouse."),(0,n.kt)("p",null,"You can use the query ",(0,n.kt)("inlineCode",{parentName:"p"},"SELECT formatReadableSize(total_bytes) FROM system.tables WHERE name = <your table name>"),". "),(0,n.kt)("h3",{id:"what-tools-does-clickhouse-offer-to-estimate-the-cost-for-running-a-service-in-the-cloud-if-i-have-a-self-managed-deployment"},"What tools does ClickHouse offer to estimate the cost for running a service in the cloud if I have a self-managed deployment?"),(0,n.kt)("p",null,"The Query log captures key metrics in order to estimate the cost of running a workload in ClickHouse Cloud. Please contact ClickHouse Cloud support ",(0,n.kt)("a",{parentName:"p",href:"mailto:support@clickhouse.com"},"support@clickhouse.com")," with questions on migration."),(0,n.kt)("h3",{id:"do-backups-count-towards-total-storage"},"Do Backups count towards total storage?"),(0,n.kt)("p",null,"ClickHouse Cloud offers two free backups at no additional cost. Backups do not count towards storage. "),(0,n.kt)("h3",{id:"what-billing-options-are-available-for-clickhouse-cloud-beta"},"What billing options are available for ClickHouse Cloud (Beta)?"),(0,n.kt)("p",null,"ClickHouse Cloud (Beta) supports the following billing options:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Self-service monthly (in USD, via credit card)"),(0,n.kt)("li",{parentName:"ul"},"Direct-sales annual / multi-year (through pre-paid \u201cClickHouse Credits\u201d, in USD)")),(0,n.kt)("h3",{id:"how-long-is-the-billing-cycle"},"How long is the billing cycle?"),(0,n.kt)("p",null,"Billing follows a ~30 day billing cycle and the start date is tracked as the date when the ClickHouse Cloud Organization was created."),(0,n.kt)("h3",{id:"what-controls-does-clickhouse-cloud-offer-to-manage-costs"},"What controls does ClickHouse Cloud offer to manage costs?"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Trial and Annual Commit customers will be notified with automated emails when the consumption hits certain thresholds - 50%, 75, and 90% so that users can take action.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"ClickHouse Cloud (Beta) allows users to set a maximum auto-scaling limit on their compute via ",(0,n.kt)("a",{parentName:"p",href:"/docs/en/manage/scaling"},"Advanced scaling control"),", a significant cost factor for analytical workloads.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"The ",(0,n.kt)("a",{parentName:"p",href:"/docs/en/manage/scaling"},"Advanced scaling control")," lets you set memory limits - min 24GB and max of 384GB, with an option to control the behavior of pausing/idling during inactivity. "))),(0,n.kt)("h3",{id:"if-i-have-multiple-services-do-i-get-an-invoice-per-service-or-a-consolidated-invoice"},"If I have multiple services, do I get an invoice per service or a consolidated invoice?"),(0,n.kt)("p",null,"A consolidated invoice is generated for all services in a given organization for a billing period."),(0,n.kt)("h3",{id:"if-i-add-my-credit-card-and-upgrade-ahead-of-time-before-my-trial-period-and-credits-expire-will-i-be-charged"},"If I add my credit card and upgrade ahead of time before my trial period and credits expire will I be charged?"),(0,n.kt)("p",null,"All costs incurred during the trial period will draw down from the trial credits first after which the credit card on file will be charged for overages."),(0,n.kt)("h2",{id:"how-can-i-keep-track-of-my-spending"},"How can I keep track of my spending?"),(0,n.kt)("p",null,"ClickHouse Cloud console includes a Usage display that gives detailed information about usage per service on Compute and Storage. This can be used to understand the cost breakdown by metered units."),(0,n.kt)("h2",{id:"reducing-your-costs"},"Reducing your costs"),(0,n.kt)("h3",{id:"what-are-the-areas-of-optimization-to-manage-costs-effectively-when-running-clickhouse-cloud"},"What are the areas of optimization to manage costs effectively when running ClickHouse Cloud?"),(0,n.kt)("p",null,"There are several ",(0,n.kt)("a",{parentName:"p",href:"/docs/en/manage/tuning-for-cloud-cost-efficiency"},"areas of optimization"),", some of them include"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Batching inserts  in place of frequent small-size inserts will reduce your Write Unit cost"),(0,n.kt)("li",{parentName:"ul"},"Ensure your batch inserts fit into the compact part thresholds"),(0,n.kt)("li",{parentName:"ul"},"Fewer columns in tables "),(0,n.kt)("li",{parentName:"ul"},"Choosing a ",(0,n.kt)("a",{parentName:"li",href:"/docs/en/engines/table-engines/mergetree-family/custom-partitioning-key"},"partition key")," such that the inserts goes into the fewer number of partitions")),(0,n.kt)("h2",{id:"sample-scenarios-and-associated-cost"},"Sample scenarios and associated cost"),(0,n.kt)("h3",{id:"devtest-scenario--567-per-month"},"Dev/Test scenario ~ $567 per month"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Active workload ~50% time"),(0,n.kt)("li",{parentName:"ul"},"24 GB RAM"),(0,n.kt)("li",{parentName:"ul"},"6 CPU"),(0,n.kt)("li",{parentName:"ul"},"256 GB Data"),(0,n.kt)("li",{parentName:"ul"},"7,000 write units, 9,000 read units"),(0,n.kt)("li",{parentName:"ul"},"600 GB write, 6 TB read ")),(0,n.kt)("h3",{id:"steady-workload-scenario-3511-per-month"},"Steady workload scenario ~$3,511 per month"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Active workload ~100% time"),(0,n.kt)("li",{parentName:"ul"},"96 GB RAM"),(0,n.kt)("li",{parentName:"ul"},"24 CPU"),(0,n.kt)("li",{parentName:"ul"},"5 TB Data"),(0,n.kt)("li",{parentName:"ul"},"43,000 write units, 25,000 read units"),(0,n.kt)("li",{parentName:"ul"},"6 TB write, 128 TB read")),(0,n.kt)("h3",{id:"heavy-usage-scenario-for-ad-hoc-analytics-2596-per-month"},"Heavy usage scenario for ad-hoc analytics ~$2,596 per month"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Active workload ~25% time"),(0,n.kt)("li",{parentName:"ul"},"192 GB RAM"),(0,n.kt)("li",{parentName:"ul"},"48 CPU"),(0,n.kt)("li",{parentName:"ul"},"4 TB Data"),(0,n.kt)("li",{parentName:"ul"},"70,000 write units, 90,000 read units"),(0,n.kt)("li",{parentName:"ul"},"6 TB write, 60 TB read")))}m.isMDXComponent=!0}}]);