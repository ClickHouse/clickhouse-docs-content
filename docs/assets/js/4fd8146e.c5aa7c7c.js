"use strict";(self.webpackChunknew_nav_docusaurus_2_2=self.webpackChunknew_nav_docusaurus_2_2||[]).push([[21456],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),d=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=d(e.components);return r.createElement(l.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=d(n),h=o,m=c["".concat(l,".").concat(h)]||c[h]||p[h]||a;return n?r.createElement(m,i(i({ref:t},u),{},{components:n})):r.createElement(m,i({ref:t},u))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:o,i[1]=s;for(var d=2;d<a;d++)i[d]=n[d];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},29214:(e,t,n)=>{n.d(t,{ZP:()=>s});var r=n(87462),o=(n(67294),n(3905));const a={toc:[{value:"Terminology",id:"terminology",level:2},{value:"Replica",id:"replica",level:3},{value:"Shard",id:"shard",level:3},{value:"Distributed coordination",id:"distributed-coordination",level:3}]},i="wrapper";function s(e){let{components:t,...n}=e;return(0,o.kt)(i,(0,r.Z)({},a,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"terminology"},"Terminology"),(0,o.kt)("h3",{id:"replica"},"Replica"),(0,o.kt)("p",null,"A copy of data.  ClickHouse always has at least one copy of your data, and so the minimum number of ",(0,o.kt)("strong",{parentName:"p"},"replicas")," is one.  This is an important detail, you may not be used to counting the original copy of your data as a replica, but that is the term used in ClickHouse code and documentation.  Adding a second replica of your data provides fault tolerance. "),(0,o.kt)("h3",{id:"shard"},"Shard"),(0,o.kt)("p",null,"A subset of data.  ClickHouse always has at least one shard for your data, so if you do not split the data across multiple servers, your data will be stored in one shard.  Sharding data across multiple servers can be used to divide the load if you exceed the capacity of a single server. The destination server is determined by the ",(0,o.kt)("strong",{parentName:"p"},"sharding key"),", and is defined when you create the distributed table. The sharding key can be random or as an output of a ",(0,o.kt)("a",{parentName:"p",href:"https://clickhouse.com/docs/en/sql-reference/functions/hash-functions"},"hash function"),".  The deployment examples involving sharding will use ",(0,o.kt)("inlineCode",{parentName:"p"},"rand()")," as the sharding key, and will provide further information on when and how to choose a different sharding key."),(0,o.kt)("h3",{id:"distributed-coordination"},"Distributed coordination"),(0,o.kt)("p",null,"ClickHouse Keeper provides the coordination system for data replication and distributed DDL queries execution. ClickHouse Keeper is compatible with Apache ZooKeeper."))}s.isMDXComponent=!0},28175:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var r=n(87462),o=(n(67294),n(3905)),a=n(29214);const i={slug:"/en/architecture/introduction",sidebar_label:"Introduction",title:"Introduction",sidebar_position:1},s=void 0,l={unversionedId:"en/deployment-guides/terminology",id:"en/deployment-guides/terminology",title:"Introduction",description:"These deployment examples are based on the advice provided to ClickHouse users by the ClickHouse Support and Services organization.  These are working examples, and we recommend that you try them and then adjust them to suit your needs.  You may find an example here that fits your requirements exactly. Alternatively, should you have a requirement where data is replicated three times instead of two, you should be able to add another replica by following the patterns presented here.",source:"@site/docs/en/deployment-guides/terminology.md",sourceDirName:"en/deployment-guides",slug:"/en/architecture/introduction",permalink:"/docs/en/architecture/introduction",draft:!1,editUrl:"https://github.com/ClickHouse/clickhouse-docs/blob/main/docs/en/deployment-guides/terminology.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{slug:"/en/architecture/introduction",sidebar_label:"Introduction",title:"Introduction",sidebar_position:1},sidebar:"docs",previous:{title:"Vector",permalink:"/docs/en/integrations/vector"},next:{title:"Scaling out",permalink:"/docs/en/architecture/horizontal-scaling"}},d={},u=[{value:"Examples",id:"examples",level:2},{value:"Basic",id:"basic",level:3},{value:"Intermediate",id:"intermediate",level:3},{value:"Advanced",id:"advanced",level:3}],c={toc:u},p="wrapper";function h(e){let{components:t,...n}=e;return(0,o.kt)(p,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"These deployment examples are based on the advice provided to ClickHouse users by the ClickHouse Support and Services organization.  These are working examples, and we recommend that you try them and then adjust them to suit your needs.  You may find an example here that fits your requirements exactly. Alternatively, should you have a requirement where data is replicated three times instead of two, you should be able to add another replica by following the patterns presented here."),(0,o.kt)(a.ZP,{mdxType:"ReplicationShardingTerminology"}),(0,o.kt)("h2",{id:"examples"},"Examples"),(0,o.kt)("h3",{id:"basic"},"Basic"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"The ",(0,o.kt)("a",{parentName:"li",href:"/docs/en/architecture/horizontal-scaling"},(0,o.kt)("strong",{parentName:"a"},"Scaling out"))," example shows how to shard your data across two nodes, and use a distributed table.  This results in having data on two ClickHouse nodes.  The two ClickHouse nodes also run ClickHouse Keeper providing distributed synchronization.  A third node runs ClickHouse Keeper standalone to complete the ClickHouse Keeper quorum.")),(0,o.kt)("h3",{id:"intermediate"},"Intermediate"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Coming soon")),(0,o.kt)("h3",{id:"advanced"},"Advanced"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Coming soon")))}h.isMDXComponent=!0}}]);